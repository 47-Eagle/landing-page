const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/VaultVisualization.CPvAFlfy.js","assets/motion.D77LWkhN.js","assets/three-vendor.Cl_v6tw3.js","assets/react-vendor.CxNYRydI.js","assets/ethers.BAccFBXb.js","assets/wallet-ui.DrX7agi0.js","assets/viem.Zt6ufg3v.js","assets/wallet-ui.Dn6Kqrs6.css","assets/charts.By8zsYJK.js","assets/safe-vendor.CAyK0Plv.js"])))=>i.map(i=>d[i]);
var Gt=Object.defineProperty;var qt=(t,a,s)=>a in t?Gt(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s;var At=(t,a,s)=>qt(t,typeof a!="symbol"?a+"":a,s);import{r as o,j as e,m as d,A as et,b as Yt}from"./motion.D77LWkhN.js";import{u as Dt,a as wt,r as Kt,L as Qt,B as Zt,R as Jt,b as Ze,c as Xt}from"./react-vendor.CxNYRydI.js";import{u as ea,C as ta,a as Vt,b as aa,c as sa,Q as ra,W as na,d as oa,e as ia,R as la,f as da}from"./wallet-ui.DrX7agi0.js";import{B as yt,g as ca,C as H,f as W,p as Ye,J as ma,a as Ft,c as Ct,z as ua}from"./ethers.BAccFBXb.js";import{_ as pa}from"./three-vendor.Cl_v6tw3.js";import{s as Ue,h as xa,p as ha,a as gt,c as St,b as Et}from"./charts.By8zsYJK.js";import{d as Pt}from"./safe-vendor.CAyK0Plv.js";import{F as ot,G as rt}from"./viem.Zt6ufg3v.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const p of n.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();function ga(t){var n,p;const{chain:a,transport:s}=t,l={chainId:a.id,name:a.name,ensAddress:(p=(n=a.contracts)==null?void 0:n.ensRegistry)==null?void 0:p.address};return new yt(s,l)}function Bt({chainId:t}={}){const{data:a}=ea({chainId:t});return o.useMemo(()=>a?ga(a):null,[a])}const h={REGISTRY:"0x47c81c9a70CA7518d3b911bC8C8b11000e92F59e",VAULT:"0x47b3ef629D9cB8DFcF8A6c61058338f4e99d7953",OFT:"0x474eD38C256A7FA0f3B8c48496CE1102ab0eA91E",WRAPPER:"0x47dAc5063c526dBc6f157093DD1D62d9DE8891c5",STRATEGY_USD1:"0x47B2659747d6A7E00c8251c3C3f7e92625a8cf6f",STRATEGY_WETH:"0x5c525Af4153B1c43f9C06c31D32a84637c617FfE",STRATEGY:"0x88C1C17842067150bd25eD1E5053B0F96A27A944",CHARM_VAULT_USD1:"0x22828Dbf15f5FBa2394Ba7Cf8fA9A96BdB444B71",CHARM_VAULT_WETH:"0x3314e248F3F752Cd16939773D83bEb3a362F0AEF",CHARM_VAULT:"0x22828Dbf15f5FBa2394Ba7Cf8fA9A96BdB444B71",UNISWAP_V3_POOL_USD1_1PCT:"0xf9f5E6f7A44Ee10c72E67Bded6654afAf4D0c85d",UNISWAP_V3_POOL_USD1_03PCT:"0x4637ea6ecf7e16c99e67e941ab4d7d52eac7c73d",UNISWAP_V3_POOL:"0x4637ea6ecf7e16c99e67e941ab4d7d52eac7c73d",UNISWAP_V3_POOL_WETH_1PCT:"0xCa2e972f081764c30Ae5F012A29D5277EEf33838",UNISWAP_V3_POOL_WETH_03PCT:"0xcdf9f50519eb0a9995730ddb6e7d3a8b1d8ffa07",WLFI:"0xdA5e1988097297dCdc1f90D4dFE7909e847CBeF6",USD1:"0x8d0D000Ee44948FC98c9B98A4FA4921476f08B0d",WETH:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",MULTISIG:"0xe5a1d534eb7f00397361F645f0F39e5D16cc1De3"},Ge="0x474eD38C256A7FA0f3B8c48496CE1102ab0eA91E",fa={WLFI_OFT:"0x47af3595BFBE6c86E59a13d5db91AEfbFF0eA91e"},le={ethereum:{chainId:1,eid:30101,name:"Ethereum",symbol:"ETH",explorer:"https://etherscan.io",rpc:"https://eth.llamarpc.com",color:"#627EEA",contracts:{EAGLE:Ge,WLFI:h.WLFI}},base:{chainId:8453,eid:30184,name:"Base",symbol:"ETH",explorer:"https://basescan.org",rpc:"https://mainnet.base.org",color:"#0052FF",contracts:{EAGLE:Ge,WLFI:fa.WLFI_OFT}},monad:{chainId:143,eid:30390,name:"Monad",symbol:"MON",explorer:"https://monad.blockscout.com",rpc:"https://rpc-mainnet.monadinfra.com",color:"#836EF9",contracts:{EAGLE:Ge}},arbitrum:{chainId:42161,eid:30110,name:"Arbitrum",symbol:"ETH",explorer:"https://arbiscan.io",rpc:"https://arb1.arbitrum.io/rpc",color:"#12AAFF",contracts:{EAGLE:Ge}},bsc:{chainId:56,eid:30102,name:"BNB Chain",symbol:"BNB",explorer:"https://bscscan.com",rpc:"https://bsc-dataseed.binance.org",color:"#F0B90B",contracts:{EAGLE:Ge}},avalanche:{chainId:43114,eid:30106,name:"Avalanche",symbol:"AVAX",explorer:"https://snowtrace.io",rpc:"https://api.avax.network/ext/bc/C/rpc",color:"#E84142",contracts:{EAGLE:Ge}},hyperevm:{chainId:999,eid:30367,name:"HyperEVM",symbol:"HYPE",explorer:"https://purrsec.com/hyperliquid",rpc:"https://rpc.hyperliquid.xyz/evm",color:"#00D395",contracts:{EAGLE:Ge}},sonic:{chainId:146,eid:30332,name:"Sonic",symbol:"S",explorer:"https://sonicscan.org",rpc:"https://rpc.soniclabs.com",color:"#1E90FF",contracts:{EAGLE:Ge}}},oe={WLFI:"https://tomato-abundant-urial-204.mypinata.cloud/ipfs/bafkreifvnbzrefx4pdd6mr653dmrgkz2bdcamrwdsl334f7ed75miosaxu",USD1:"https://tomato-abundant-urial-204.mypinata.cloud/ipfs/bafkreic74no55hhm544qjraibffhrb4h7zldae5sfsyipvu6dvfyqubppy",EAGLE:"https://tomato-abundant-urial-204.mypinata.cloud/ipfs/bafybeigzyatm2pgrkqbnskyvflnagtqli6rgh7wv7t2znaywkm2pixmkxy",ETHEREUM:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png",BNB:"https://tomato-abundant-urial-204.mypinata.cloud/ipfs/bafkreify74oobnnpfywzxt26zcp63vjcib47j5zgpyyg4i7i22iqet2674",AVAX:"https://tomato-abundant-urial-204.mypinata.cloud/ipfs/bafkreihmd577vqyqd3iaqpsjupgjr4utcqxx3wrkuc3lvwfbbhbzkgp4qy",ARBITRUM:"https://tomato-abundant-urial-204.mypinata.cloud/ipfs/bafkreibj4e6paq7dbdflyhzevcgrteks345og7klpt34i4em65boofi5we",BASE:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/base/info/logo.png",MONAD:"https://tomato-abundant-urial-204.mypinata.cloud/ipfs/bafkreibsvmotzz6oddu4ouyusdal7z4a233hs4bordnaebg7abgkqozuxe",HYPEREVM:"https://tomato-abundant-urial-204.mypinata.cloud/ipfs/bafkreico6h2tttoti4x5llr47tspt4wyl33uowd244vbshuv4xqxdij7kq",SONIC:"https://raw.githubusercontent.com/soniclabs/assets/main/logo.png",CHARM:"https://tomato-abundant-urial-204.mypinata.cloud/ipfs/bafkreid3difftzksqy3xlummzzobhk674ece35d7drmgo3ftt7wrix6dwu",UNISWAP:"https://tomato-abundant-urial-204.mypinata.cloud/ipfs/bafkreichw4b4wxvinfu4dmkloxajj4mm7672k6q3nyqzvdnvogvlbbycfq",LAYERZERO_EMBLEM:"https://tomato-abundant-urial-204.mypinata.cloud/ipfs/bafkreihml3nahd2duwdjg2ltoeixax2xdj2ldp5unnrjwntyicar74nwra",LAYERZERO_LOGO:"https://tomato-abundant-urial-204.mypinata.cloud/ipfs/bafkreidp4x62pp27pf6cdtddvas7e3d2cshozgzi3yhmr2whhcefo5anly"},Re=({symbol:t,address:a,className:s="w-6 h-6 rounded-full",alt:l,chainId:r=1})=>{var S;const[n,p]=o.useState(0),[c,f]=o.useState(!1),m=(()=>{const F=[],i=t.toUpperCase();if(oe[i]&&F.push(oe[i]),(t.toUpperCase()==="ETH"||t.toUpperCase()==="WETH")&&oe.ETHEREUM&&(F.includes(oe.ETHEREUM)||F.push(oe.ETHEREUM)),a)try{const j=ca(a);F.push(`https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/${j}/logo.svg`),F.push(`https://raw.githubusercontent.com/rainbow-me/assets/master/blockchains/ethereum/assets/${j}/logo.svg`),F.push(`https://raw.githubusercontent.com/Uniswap/assets/master/blockchains/ethereum/assets/${j}/logo.png`),F.push(`https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/${j}/logo.png`)}catch{console.warn("[TokenIcon] Invalid address for",t,":",a)}return F})(),w=F=>{console.warn(`[TokenIcon] Failed to load logo for ${t} from source ${n}:`,m[n]),n<m.length-1?p(i=>i+1):(console.error(`[TokenIcon] All sources failed for ${t}, using fallback`),f(!0))};return o.useEffect(()=>{p(0),f(!1)},[t,a]),c||m.length===0?e.jsx("div",{className:`${s} bg-gray-700 border border-gray-600 flex items-center justify-center text-white font-medium text-xs`,title:l||t,children:(S=t[0])==null?void 0:S.toUpperCase()}):e.jsx("img",{src:m[n],alt:l||t,className:s,onError:w,crossOrigin:"anonymous",loading:"lazy"})};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ut=(...t)=>t.filter((a,s,l)=>!!a&&l.indexOf(a)===s).join(" ");/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ya={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=o.forwardRef(({color:t="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:r="",children:n,iconNode:p,...c},f)=>o.createElement("svg",{ref:f,...ya,width:a,height:a,stroke:t,strokeWidth:l?Number(s)*24/Number(a):s,className:Ut("lucide",r),...c},[...p.map(([k,m])=>o.createElement(k,m)),...Array.isArray(n)?n:[n]]));/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(t,a)=>{const s=o.forwardRef(({className:l,...r},n)=>o.createElement(wa,{ref:n,iconNode:a,className:Ut(`lucide-${ba(t)}`,l),...r}));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=pt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=pt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=pt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=pt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Na=()=>{const[t,a]=o.useState(()=>typeof window<"u"?document.documentElement.classList.contains("dark"):!1);o.useEffect(()=>{const l=document.documentElement.classList.contains("dark");a(l)},[]);const s=()=>{const l=!t;a(l),l?(document.documentElement.classList.add("dark"),document.body.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),document.body.classList.remove("dark"),localStorage.setItem("theme","light"))};return e.jsxs(d.button,{onClick:s,whileHover:{scale:1.05},whileTap:{scale:.95},className:`
        relative w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-full flex items-center justify-center
        transition-all duration-300
        touch-manipulation
        ${t?"bg-neo-bg-dark shadow-neo-raised-dark hover:shadow-neo-raised-lift-dark":"bg-neo-bg-light shadow-neo-raised hover:shadow-neo-raised-lift"}
        focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-opacity-50
      `,"aria-label":"Toggle theme",children:[e.jsx(d.div,{initial:!1,animate:{scale:t?0:1,rotate:t?90:0},transition:{duration:.3},className:"absolute",children:e.jsx(ja,{className:`w-5 h-5 sm:w-5.5 sm:h-5.5 md:w-6 md:h-6 ${t?"text-gray-500":"text-[#D4B474]"}`})}),e.jsx(d.div,{initial:!1,animate:{scale:t?1:0,rotate:t?0:-90},transition:{duration:.3},className:"absolute",children:e.jsx(ka,{className:`w-5 h-5 sm:w-5.5 sm:h-5.5 md:w-6 md:h-6 ${t?"text-blue-400":"text-gray-500"}`})})]})},Aa=["function getWLFIPrice() view returns (uint256)","function getUSD1Price() view returns (uint256)"];function Fa(){const[t,a]=o.useState("--"),[s,l]=o.useState("--"),[r,n]=o.useState("--"),[p,c]=o.useState(null),f=Bt(),k=Dt(),m=wt();return o.useEffect(()=>{const w=async()=>{try{if(!f)return;const S=new H(h.VAULT,Aa,f),[F,i]=await Promise.all([S.getWLFIPrice(),S.getUSD1Price()]),j=Number(W(F)),b=Number(W(i)),L=j<.01?j.toFixed(4):j.toFixed(3),v=b.toFixed(3);a(u=>(u!=="--"&&u!==L&&(c("wlfi"),setTimeout(()=>c(null),2e3)),L)),l(u=>(u!=="--"&&u!==v&&(c("usd1"),setTimeout(()=>c(null),2e3)),v))}catch(S){console.error("Error fetching prices:",S)}};if(f){w();const S=setInterval(w,3e4);return()=>clearInterval(S)}},[f]),o.useEffect(()=>{const w=async()=>{var F;try{const j=await(await fetch("https://api.dexscreener.com/latest/dex/pairs/ethereum/0xcf728b099b672c72d61f6ec4c4928c2f2a96cefdfd518c3470519d76545ed333")).json();if((F=j==null?void 0:j.pair)!=null&&F.priceUsd){const b=parseFloat(j.pair.priceUsd).toFixed(6);n(L=>(L!=="--"&&L!==b&&(c("eagle"),setTimeout(()=>c(null),2e3)),b))}}catch(i){console.error("Error fetching EAGLE price:",i)}};w();const S=setInterval(w,3e4);return()=>clearInterval(S)},[]),e.jsx("header",{className:"sticky top-0 z-50 bg-gradient-to-b from-neo-bg-light to-gray-50 dark:from-neo-bg-dark dark:to-gray-900 border-b border-gray-300/50 dark:border-gray-700/30 shadow-neo-inset dark:shadow-neo-inset-dark backdrop-blur-xl transition-all duration-500",children:e.jsxs("div",{className:"container mx-auto px-3 sm:px-4 md:px-6 py-2 sm:py-3 md:py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[m.pathname==="/app/vault"||m.pathname==="/app/vault/"?e.jsxs(d.div,{className:"flex items-center gap-2 sm:gap-3 md:gap-4",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:20},children:[e.jsx(d.img,{src:oe.EAGLE,alt:"Eagle Omnichain Vault",className:"w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 drop-shadow-lg",whileHover:{rotate:[0,-10,10,0]},transition:{duration:.5}}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"text-sm sm:text-base md:text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent truncate",children:"Eagle Omnichain Vault"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Re,{symbol:"WLFI",address:h.WLFI,className:"w-4 h-4 sm:w-5 sm:h-5 rounded-full border border-white dark:border-gray-700"}),e.jsx(Re,{symbol:"USD1",address:h.USD1,className:"w-4 h-4 sm:w-5 sm:h-5 rounded-full border border-white dark:border-gray-700"})]})]}),e.jsxs("a",{href:`https://etherscan.io/address/${h.VAULT}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] sm:text-xs text-gray-600 dark:text-gray-400 hover:text-[#D4B474] font-mono transition-colors flex items-center gap-1",children:[h.VAULT,e.jsx("svg",{className:"w-2.5 h-2.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]}):m.pathname.startsWith("/app/lp")||m.pathname==="/app/lp/"?e.jsxs(d.div,{className:"flex items-center gap-2 sm:gap-3 md:gap-4 cursor-pointer",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:20},onClick:()=>k("/app"),children:[e.jsx(d.img,{src:oe.EAGLE,alt:"Eagle/ETH Liquidity Pool",className:"w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 drop-shadow-lg",whileHover:{rotate:[0,-10,10,0]},transition:{duration:.5}}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-sm sm:text-base md:text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent truncate",children:"Eagle/ETH Liquidity Pool"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 dark:text-gray-400 font-medium truncate hidden sm:block",children:"Provide liquidity and earn fees"})]})]}):m.pathname.startsWith("/app/wrapper")||m.pathname==="/app/wrapper/"?e.jsxs(d.div,{className:"flex items-center gap-2 sm:gap-3 md:gap-4 cursor-pointer",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:20},onClick:()=>k("/app"),children:[e.jsx(d.img,{src:oe.EAGLE,alt:"Eagle Vault Wrapper",className:"w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 drop-shadow-lg",whileHover:{rotate:[0,-10,10,0]},transition:{duration:.5}}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-sm sm:text-base md:text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent truncate",children:"Eagle Vault Wrapper"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 dark:text-gray-400 font-medium truncate hidden sm:block",children:"Wrap and unwrap vEAGLE tokens"})]})]}):m.pathname.startsWith("/app/bridge")||m.pathname==="/app/bridge/"?e.jsxs(d.div,{className:"flex items-center gap-2 sm:gap-3 md:gap-4 cursor-pointer",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:20},onClick:()=>k("/app"),children:[e.jsx(d.img,{src:oe.EAGLE,alt:"Eagle Bridge",className:"w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 drop-shadow-lg",whileHover:{rotate:[0,-10,10,0]},transition:{duration:.5}}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-sm sm:text-base md:text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent truncate",children:"Eagle Bridge"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 dark:text-gray-400 font-medium truncate hidden sm:block",children:"Soar Across Chains While Earning on Ethereum"})]})]}):m.pathname.startsWith("/app/analytics")||m.pathname==="/app/analytics/"?e.jsxs(d.div,{className:"flex items-center gap-2 sm:gap-3 md:gap-4 cursor-pointer",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:20},onClick:()=>k("/app"),children:[e.jsx(d.img,{src:oe.EAGLE,alt:"Analytics",className:"w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 drop-shadow-lg",whileHover:{rotate:[0,-10,10,0]},transition:{duration:.5}}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-sm sm:text-base md:text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent truncate",children:"Analytics"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 dark:text-gray-400 font-medium truncate hidden sm:block",children:"Vault performance metrics"})]})]}):e.jsxs(d.div,{className:"flex items-center gap-2 sm:gap-3 md:gap-4 cursor-pointer",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:20},onClick:()=>k("/app"),children:[e.jsx(d.img,{src:oe.EAGLE,alt:"47 Eagle",className:"w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 drop-shadow-lg",whileHover:{rotate:[0,-10,10,0]},transition:{duration:.5}}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-sm sm:text-base md:text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent truncate",children:"47 Eagle"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 dark:text-gray-400 font-medium truncate hidden sm:block",children:"Omnichain WLFI Yield Strategies"})]})]}),e.jsx("div",{className:"hidden lg:flex items-center gap-3",children:!m.pathname.startsWith("/app")&&e.jsxs(d.a,{href:"https://dexscreener.com/ethereum/0xcf728b099b672c72d61f6ec4c4928c2f2a96cefdfd518c3470519d76545ed333",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-br from-[#FFE7A3]/20 to-[#F2D57C]/10 dark:from-[#A69348]/20 dark:to-[#C9A854]/10 rounded-full shadow-neo-raised dark:shadow-neo-raised-dark hover:shadow-neo-hover dark:hover:shadow-neo-hover-dark border border-[#F2D57C]/30 dark:border-[#F2D57C]/40 hover:border-[#F2D57C]/50 dark:hover:border-[#F2D57C]/60 transition-all duration-400 cursor-pointer",whileHover:{scale:1.05,y:-2},transition:{type:"spring",stiffness:500,damping:20},animate:p==="eagle"?{scale:[1,1.08,1]}:{},title:"View on DexScreener",children:[e.jsx("img",{src:oe.EAGLE,alt:"EAGLE",className:"w-5 h-5"}),e.jsx(et,{mode:"wait",children:e.jsx(d.span,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.2},className:"text-sm font-mono text-gray-800 dark:text-gray-200 font-semibold min-w-[60px]",children:r==="--"?"--":`$${r}`},r)})]})}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(Na,{}),e.jsx("div",{className:"scale-90 sm:scale-95 md:scale-100",children:e.jsx(ta,{chainStatus:"icon",showBalance:!1,accountStatus:{smallScreen:"avatar",largeScreen:"full"}})})]})]}),e.jsx("div",{className:"lg:hidden flex items-center gap-2 mt-2 overflow-x-auto pb-1 scrollbar-hide",children:e.jsxs(d.a,{href:"https://dexscreener.com/ethereum/0xcf728b099b672c72d61f6ec4c4928c2f2a96cefdfd518c3470519d76545ed333",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-br from-[#FFE7A3]/20 to-[#F2D57C]/10 dark:from-[#A69348]/20 dark:to-[#C9A854]/10 rounded-full shadow-neo-raised dark:shadow-neo-raised-dark border border-[#F2D57C]/30 dark:border-[#F2D57C]/40 whitespace-nowrap flex-shrink-0 cursor-pointer",animate:p==="eagle"?{scale:[1,1.05,1]}:{},title:"View on DexScreener",children:[e.jsx("img",{src:oe.EAGLE,alt:"EAGLE",className:"w-4 h-4"}),e.jsx(et,{mode:"wait",children:e.jsx(d.span,{initial:{y:5,opacity:0},animate:{y:0,opacity:1},exit:{y:-5,opacity:0},transition:{duration:.15},className:"text-xs font-mono text-gray-800 dark:text-gray-200 font-semibold",children:r==="--"?"--":`$${r}`},r)})]})})]})})}const it=[{id:"lp",label:"LP Pool",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),color:"from-blue-500 to-purple-500",status:"Live"},{id:"bridge",label:"Bridge",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),color:"from-emerald-500 to-cyan-500",status:"New"},{id:"vault",label:"Vault",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"from-amber-500 to-orange-600",status:"Active"}];function Ca({current:t,onChange:a,isTransitioning:s}){var l;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden md:block fixed right-8 top-1/2 -translate-y-1/2 z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-850 backdrop-blur-xl rounded-3xl p-4 border border-gray-200/50 dark:border-gray-600/50 shadow-neo-raised dark:shadow-neo-raised-dark",children:[e.jsx("div",{className:"space-y-4",children:it.map((r,n)=>{const p=t===r.id;return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>a(r.id),disabled:s,className:`
                      relative w-16 h-16 rounded-2xl
                      transition-all duration-300 group
                      border backdrop-blur-sm
                      ${p?`bg-gradient-to-br ${r.color} border-transparent shadow-neo-glow dark:shadow-neo-glow-dark`:"bg-white/50 dark:bg-gray-800/80 border-gray-200/50 dark:border-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700/70 hover:border-gray-300 dark:hover:border-gray-600/60 shadow-neo-inset dark:shadow-neo-inset-dark"}
                      ${s?"cursor-wait opacity-50":"cursor-pointer"}
                    `,title:r.label,children:[p&&e.jsx(d.div,{className:`absolute inset-0 bg-gradient-to-br ${r.color} rounded-2xl opacity-40 blur-xl -z-10`,animate:{scale:[1,1.2,1],opacity:[.4,.2,.4]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),e.jsx("div",{className:`
                    absolute inset-0 flex items-center justify-center
                    ${p?"text-white":"text-gray-400 group-hover:text-gray-200"}
                    transition-colors
                  `,children:r.icon}),e.jsxs("div",{className:"absolute right-full mr-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-all duration-200 pointer-events-none whitespace-nowrap",children:[e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-850 border border-gray-200/50 dark:border-gray-600/50 rounded-xl px-4 py-2 backdrop-blur-xl shadow-neo-raised dark:shadow-neo-raised-dark",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:r.label}),r.status&&e.jsx("p",{className:`text-xs mt-0.5 font-medium ${r.status==="Live"?"text-emerald-500":r.status==="New"?"text-cyan-500":r.status==="Active"?"text-[#D4B474]":r.status==="Beta"?"text-violet-500":"text-gray-500"}`,children:r.status})]}),e.jsx("div",{className:"absolute left-full top-1/2 -translate-y-1/2 -ml-1 w-3 h-3 bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-850 border-r border-b border-gray-200/50 dark:border-gray-600/50 rotate-[-45deg]"})]})]}),n<it.length-1&&e.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 w-px h-4 bg-gradient-to-b from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700"})]},r.id)})}),e.jsx("div",{className:"mt-5 pt-4 border-t border-gray-300/50 dark:border-gray-700/30",children:e.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 text-center font-semibold tracking-widest uppercase",children:(l=it.find(r=>r.id===t))==null?void 0:l.label})})]})}),e.jsx("div",{className:"md:hidden fixed bottom-20 left-1/2 -translate-x-1/2 z-50 w-[calc(100%-2rem)] max-w-md",children:e.jsx("div",{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-850 backdrop-blur-xl rounded-2xl p-2 border border-gray-200/50 dark:border-gray-600/50 shadow-neo-raised dark:shadow-neo-raised-dark",children:e.jsx("div",{className:"flex items-center justify-around gap-2",children:it.map(r=>{const n=t===r.id;return e.jsxs("button",{onClick:()=>a(r.id),disabled:s,className:`
                    relative flex-1 h-14 rounded-xl
                    transition-all duration-300
                    border backdrop-blur-sm
                    touch-manipulation
                    ${n?`bg-gradient-to-br ${r.color} border-transparent shadow-neo-glow dark:shadow-neo-glow-dark`:"bg-white/50 dark:bg-gray-800/80 border-gray-200/50 dark:border-gray-700/50 active:bg-gray-100 dark:active:bg-gray-700/70 shadow-neo-inset dark:shadow-neo-inset-dark"}
                    ${s?"opacity-50":""}
                  `,children:[n&&e.jsx(d.div,{className:`absolute inset-0 bg-gradient-to-br ${r.color} rounded-xl opacity-40 blur-lg -z-10`,animate:{scale:[1,1.1,1],opacity:[.4,.2,.4]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-1",children:[e.jsx("div",{className:`
                      ${n?"text-white":"text-gray-400"}
                      transition-colors
                    `,children:r.icon}),e.jsx("span",{className:`
                      text-[10px] font-semibold tracking-wider uppercase
                      ${n?"text-white":"text-gray-600 dark:text-gray-400"}
                      transition-colors
                    `,children:r.label})]})]},r.id)})})})})]})}function Sa(){return e.jsx("a",{href:"https://uniswap.org",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center",title:"Uniswap V3",children:e.jsx("div",{className:"w-5 h-5 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("img",{src:"https://teal-working-dormouse-113.mypinata.cloud/ipfs/bafkreig3ynkhtw76tekx6lhp7po3xbfy54lg3pvcvvi3mlyhghmzavmlu4",alt:"Uniswap",className:"w-full h-full object-contain"})})})}function Ea(){return e.jsx("a",{href:"https://charm.fi",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center",title:"Charm Finance",children:e.jsx("div",{className:"w-5 h-5 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("img",{src:"https://teal-working-dormouse-113.mypinata.cloud/ipfs/bafkreid3difftzksqy3xlummzzobhk674ece35d7drmgo3ftt7wrix6dwu",alt:"Charm Finance",className:"w-full h-full object-contain"})})})}function Rt(){return e.jsx("a",{href:"https://layerzero.network",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center",children:e.jsx("div",{className:"w-5 h-5 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("img",{src:"https://teal-working-dormouse-113.mypinata.cloud/ipfs/bafkreidhdvzrssoorwk2lbuasgz2ux2aak4azibxavevanrmmywl7mthve",alt:"LayerZero",className:"w-full h-full object-contain"})})})}function La({onNavigateUp:t,onNavigateDown:a,provider:s}){return e.jsx("div",{className:"h-full flex items-center justify-center px-3 sm:px-6 relative overflow-y-auto overflow-x-hidden transition-colors duration-300",children:e.jsxs("div",{className:"max-w-4xl mx-auto w-full relative z-10 my-auto",children:[e.jsxs(d.div,{className:"text-center mb-6 sm:mb-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[e.jsx("img",{src:oe.EAGLE,alt:"Eagle",className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-4 sm:mb-5 opacity-90"}),e.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-7xl font-bold mb-2 sm:mb-3 tracking-tight",children:e.jsx("span",{className:"bg-gradient-to-r from-[#E4CFA0] via-[#D4B474] to-[#D4B474] dark:from-[#E4CFA0] dark:via-[#D4B474] dark:to-[#D4B474] bg-clip-text text-transparent drop-shadow-[0_4px_16px_rgba(251,191,36,0.5)] dark:drop-shadow-[0_4px_16px_rgba(251,191,36,0.6)]",children:"EAGLE"})}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mb-6 sm:mb-8 px-2",children:"Omnichain WLFI Yield Strategy Vault"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 sm:gap-4 mb-6 sm:mb-10",children:[e.jsxs(d.div,{className:"flex items-center gap-2 sm:gap-3 px-3 sm:px-5 py-2 sm:py-3 bg-gradient-to-br from-neo-bg-light to-gray-50 dark:from-neo-bg-dark dark:to-gray-900 rounded-full shadow-neo-raised dark:shadow-neo-raised-dark hover:shadow-neo-hover dark:hover:shadow-neo-hover-dark border border-gray-200/50 dark:border-gray-700/30 transition-all duration-300",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},whileHover:{scale:1.05,y:-2},children:[e.jsx("span",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-semibold",children:"Powered by"}),e.jsx(Sa,{className:"!w-5 !h-5 sm:!w-6 sm:!h-6"})]}),e.jsxs(d.div,{className:"flex items-center gap-2 sm:gap-3 px-3 sm:px-5 py-2 sm:py-3 bg-gradient-to-br from-neo-bg-light to-gray-50 dark:from-neo-bg-dark dark:to-gray-900 rounded-full shadow-neo-raised dark:shadow-neo-raised-dark hover:shadow-neo-hover dark:hover:shadow-neo-hover-dark border border-gray-200/50 dark:border-gray-700/30 transition-all duration-300",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},whileHover:{scale:1.05,y:-2},children:[e.jsx("span",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-semibold",children:"Managed by"}),e.jsx(Ea,{className:"!w-5 !h-5 sm:!w-6 sm:!h-6"})]}),e.jsxs(d.div,{className:"flex items-center gap-2 sm:gap-3 px-3 sm:px-5 py-2 sm:py-3 bg-gradient-to-br from-neo-bg-light to-gray-50 dark:from-neo-bg-dark dark:to-gray-900 rounded-full shadow-neo-raised dark:shadow-neo-raised-dark hover:shadow-neo-hover dark:hover:shadow-neo-hover-dark border border-gray-200/50 dark:border-gray-700/30 transition-all duration-300",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},whileHover:{scale:1.05,y:-2},children:[e.jsx("span",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-semibold",children:"Omnichain via"}),e.jsx(Rt,{className:"!w-5 !h-5 sm:!w-6 sm:!h-6"})]})]})]}),e.jsxs(d.div,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:[e.jsxs(d.div,{whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:17},className:"bg-neo-bg-light dark:bg-neo-bg-dark shadow-neo-raised dark:shadow-neo-raised-dark hover:shadow-neo-raised-lift dark:hover:shadow-neo-raised-lift-dark rounded-2xl p-5 sm:p-8 transition-all duration-300 text-left cursor-pointer group relative overflow-hidden",onClick:t,children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-400 to-cyan-400 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"absolute top-3 sm:top-4 right-3 sm:right-4 inline-flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1 sm:py-1.5 bg-gradient-to-r from-emerald-100 to-green-100 dark:from-emerald-900/30 dark:to-green-900/30 border-2 border-emerald-400 dark:border-emerald-500 rounded-full shadow-sm",children:[e.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-emerald-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-[10px] sm:text-xs font-semibold text-emerald-700 dark:text-emerald-300",children:"Live"})]}),e.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4 pr-24 sm:pr-32",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:"EAGLE/ETH LP"}),e.jsx(d.div,{animate:{y:[0,-4,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(va,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors"})})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Provide liquidity, earn fees"})]}),e.jsxs(d.div,{whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:17},className:"bg-neo-bg-light dark:bg-neo-bg-dark shadow-neo-raised dark:shadow-neo-raised-dark hover:shadow-neo-raised-lift dark:hover:shadow-neo-raised-lift-dark rounded-2xl p-5 sm:p-8 transition-all duration-300 text-left cursor-pointer group relative overflow-hidden",onClick:a,children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-amber-400 to-orange-400 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"absolute top-3 sm:top-4 right-3 sm:right-4 inline-flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1 sm:py-1.5 bg-gradient-to-r from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 border-2 border-green-400 dark:border-green-500 rounded-full shadow-sm",children:[e.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-[10px] sm:text-xs font-semibold text-green-700 dark:text-green-300",children:"Active"})]}),e.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4 pr-16 sm:pr-32",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100 group-hover:text-[#A27D46] dark:group-hover:text-[#D4B474] transition-colors",children:"Vault Engine"}),e.jsx(d.div,{animate:{y:[0,4,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(Ht,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600 dark:text-gray-400 group-hover:text-[#A27D46] dark:group-hover:text-[#D4B474] transition-colors"})})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Deposit & earn yield"})]})]}),e.jsxs(d.div,{className:"flex flex-wrap items-center justify-center gap-2 sm:gap-4 text-xs sm:text-sm",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[e.jsx(d.a,{href:"https://docs.47eagle.com",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05,y:-2},transition:{type:"spring",stiffness:400,damping:17},className:"px-3 sm:px-5 py-2 sm:py-2.5 bg-neo-bg-light dark:bg-neo-bg-dark shadow-neo-raised dark:shadow-neo-raised-dark hover:shadow-neo-raised-lift dark:hover:shadow-neo-raised-lift-dark rounded-full text-gray-700 dark:text-gray-300 hover:text-[#8C6A38] dark:hover:text-[#D4B474] transition-all font-medium",children:"Docs"}),e.jsx(d.a,{href:"#",whileHover:{scale:1.05,y:-2},transition:{type:"spring",stiffness:400,damping:17},className:"px-3 sm:px-5 py-2 sm:py-2.5 bg-neo-bg-light dark:bg-neo-bg-dark shadow-neo-raised dark:shadow-neo-raised-dark hover:shadow-neo-raised-lift dark:hover:shadow-neo-raised-lift-dark rounded-full text-gray-700 dark:text-gray-300 hover:text-[#8C6A38] dark:hover:text-[#D4B474] transition-all font-medium",children:"Summary"}),e.jsx(d.a,{href:"https://x.com/teameagle47",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05,y:-2},transition:{type:"spring",stiffness:400,damping:17},className:"px-3 sm:px-5 py-2 sm:py-2.5 bg-neo-bg-light dark:bg-neo-bg-dark shadow-neo-raised dark:shadow-neo-raised-dark hover:shadow-neo-raised-lift dark:hover:shadow-neo-raised-lift-dark rounded-full text-gray-700 dark:text-gray-300 hover:text-[#8C6A38] dark:hover:text-[#D4B474] transition-all font-medium",children:"Twitter"}),e.jsx(d.a,{href:"https://t.me/Eagle_community_47",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05,y:-2},transition:{type:"spring",stiffness:400,damping:17},className:"px-3 sm:px-5 py-2 sm:py-2.5 bg-neo-bg-light dark:bg-neo-bg-dark shadow-neo-raised dark:shadow-neo-raised-dark hover:shadow-neo-raised-lift dark:hover:shadow-neo-raised-lift-dark rounded-full text-gray-700 dark:text-gray-300 hover:text-[#8C6A38] dark:hover:text-[#D4B474] transition-all font-medium",children:"Telegram"})]})]})})}class $t extends o.Component{constructor(){super(...arguments);At(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,l){console.error("ErrorBoundary caught an error:",s,l)}render(){var s;return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-neo-bg-light dark:bg-neo-bg-dark flex items-center justify-center p-6",children:e.jsx("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:((s=this.state.error)==null?void 0:s.message)||"An unexpected error occurred"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors",children:"Reload Page"})]})})}):this.props.children}}function Ta({vaultWLFI:t,vaultUSD1:a,strategyWLFI:s,strategyUSD1:l,wlfiPrice:r,wethPrice:n=3e3,strategyWETH:p=0,strategyWLFIinPool:c=0,strategyUSD1InPool:f=0,strategyWLFIinUSD1Pool:k=0}){const m=o.useRef(null),[w,S]=o.useState(null),[F,i]=o.useState(0),[j,b]=o.useState(null),L=r>0?a/r:0,v=r>0?l/r:0,u=Math.max(0,Number(p)||0),y=Math.max(0,Number(c)||0),E=u>0||y>0,P=t*r+a,ce=l,J=u*n+y*r,O=P+ce+J;console.log("[Sunburst] ===== RAW DATA RECEIVED ====="),console.log("[Sunburst] vaultWLFI:",t,typeof t),console.log("[Sunburst] vaultUSD1:",a,typeof a),console.log("[Sunburst] strategyUSD1:",l,typeof l),console.log("[Sunburst] strategyWETH:",p,typeof p),console.log("[Sunburst] strategyWLFIinPool:",c,typeof c),console.log("[Sunburst] wethPrice:",n,typeof n),console.log("[Sunburst] wlfiPrice:",r,typeof r),console.log("[Sunburst] ===== CONVERTED VALUES ====="),console.log("[Sunburst] strategyWETHNum:",u,"> 0?",u>0),console.log("[Sunburst] strategyWLFIinPoolNum:",y,"> 0?",y>0),console.log("[Sunburst] hasWETHStrategyData:",E),console.log("[Sunburst] Will show WETH strategy?",E),console.log("[Sunburst] ===== CALCULATED TOTALS ====="),console.log("[Sunburst] Calculated totals (USD):",{totalVault:P.toFixed(2),totalUSD1Strategy:ce.toFixed(2),totalWETHStrategy:J.toFixed(2),grandTotal:O.toFixed(2)});const _=r>0?u*n/r:0,B=y,Y=t+L+v+_+B;return o.useEffect(()=>{if(!m.current)return;Ue("#tooltip").style("position","fixed").style("opacity","0").style("left","-9999px").style("top","-9999px").style("pointer-events","none").style("z-index","1000").style("transition","opacity 0.2s ease"),Ue(m.current).selectAll("*").remove();const z=window.innerWidth<640,ke=window.innerWidth>=640&&window.innerWidth<1024,ge=z?300:ke?350:450,K=z?300:ke?350:450,ue=Math.min(ge,K)/2-30,Ae={name:"Total Assets",children:[{name:"Vault Reserves",color:"#F2D57C",children:[{name:"Vault WLFI",value:t*r,color:"#FFE7A3"},{name:"Vault USD1",value:a,color:"#C9A854"}]},{name:"USD1/WLFI Strategy",color:"#6366f1",children:[{name:"USD1 in Charm",value:f,color:"#818cf8"},{name:"WLFI in Charm",value:k*r,color:"#a5b4fc"}]},...E?(()=>{const T=u>0?[{name:"WETH in Pool",value:u*n,color:"#1a1a1a"}]:[],ne=y>0?[{name:"WLFI in Pool",value:y*r,color:"#5a5a5a"}]:[],x=[...T,...ne];return console.log("[Sunburst] Building WETH/WLFI Strategy section:",{strategyWETHNum:u,strategyWLFIinPoolNum:y,wethPrice:n,wlfiPrice:r,wethValueUSD:u*n,wlfiValueUSD:y*r,childrenCount:x.length,children:x,hasWETHStrategyData:E}),x.length===0&&(console.warn("[Sunburst] WARNING: WETH/WLFI Strategy section created but has no children!"),x.push({name:"WETH in Pool",value:.01,color:"#1a1a1a"})),[{name:"WETH/WLFI Strategy",color:"#3a3a3a",children:x}]})():(console.log("[Sunburst] WETH/WLFI Strategy NOT showing because:",{strategyWETHNum:u,strategyWLFIinPoolNum:y,hasWETHStrategyData:E,strategyWETH:p,strategyWLFIinPool:c}),[])]},g=Ue(m.current).attr("width",ge).attr("height",K).append("g").attr("transform",`translate(${ge/2}, ${K/2})`),Fe=xa(Ae).sum(T=>T.value||0).sort((T,ne)=>(ne.value||0)-(T.value||0));ha().size([2*Math.PI,ue])(Fe);const $e=gt().startAngle(T=>T.x0).endAngle(T=>T.x1).padAngle(T=>Math.min((T.x1-T.x0)/2,.005)).padRadius(ue/2).innerRadius(T=>T.y0).outerRadius(T=>T.y1-1),Ce=gt().startAngle(T=>T.x0).endAngle(T=>T.x1).innerRadius(0).outerRadius(0),D=gt().startAngle(T=>T.x0).endAngle(T=>T.x1).innerRadius(T=>T.y0).outerRadius(T=>T.y1+10),M=g.append("defs").append("filter").attr("id","glow");M.append("feGaussianBlur").attr("stdDeviation","3").attr("result","coloredBlur");const pe=M.append("feMerge");pe.append("feMergeNode").attr("in","coloredBlur"),pe.append("feMergeNode").attr("in","SourceGraphic"),g.selectAll("path").data(Fe.descendants().filter(T=>T.depth>0)).join("path").attr("d",$e).attr("opacity",.85).attr("fill",T=>T.data.color||"#666").attr("opacity",T=>w&&T.data.name!==w?.3:.85).attr("stroke","rgba(255, 255, 255, 0.1)").attr("stroke-width",1.5).style("cursor","pointer").style("transition","all 0.4s cubic-bezier(0.4, 0, 0.2, 1)").style("filter","drop-shadow(0 4px 6px rgba(0, 0, 0, 0.3))").on("mouseenter",function(T,ne){Ue(this).transition().duration(300).ease(St).attr("d",D).attr("opacity",1).style("filter","drop-shadow(0 8px 16px rgba(0, 0, 0, 0.4)) drop-shadow(0 0 20px "+(ne.data.color||"#666")+"80)");const x=ne.value||0,N=O>0?(x/O*100).toFixed(1):"0";let I="",V="";const q=ne.data.name.toLowerCase();q.includes("wlfi")&&!q.includes("weth")?(I=(x/r).toFixed(2),V="WLFI"):q.includes("usd1")?(I=x.toFixed(2),V="USD1"):q.includes("weth")?(I=(x/n).toFixed(4),V="WETH"):I=null,Ue("#tooltip").style("left",T.clientX+15+"px").style("top",T.clientY-10+"px").style("opacity","1").html(`
            <div style="
              background: linear-gradient(135deg, rgba(0,0,0,0.95) 0%, rgba(20,20,20,0.95) 100%);
              padding: 16px;
              border-radius: 12px;
              border: 1px solid rgba(255,255,255,0.2);
              box-shadow: 0 20px 40px rgba(0,0,0,0.5), 0 0 20px ${ne.data.color}40;
              backdrop-filter: blur(10px);
              min-width: 200px;
            ">
              <div style="color: ${ne.data.color}; font-weight: 700; margin-bottom: 10px; font-size: 14px; letter-spacing: 0.5px;">${ne.data.name.toUpperCase()}</div>
              <div style="display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 6px;">
                <span style="color: #9ca3af; font-size: 12px;">USD Value:</span>
                <span style="color: white; font-weight: 600; font-family: monospace; font-size: 13px;">$${x.toFixed(2)}</span>
              </div>
              ${I!==null?`
              <div style="display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 6px;">
                <span style="color: #9ca3af; font-size: 12px;">Quantity:</span>
                <span style="color: #eab308; font-weight: 600; font-family: monospace; font-size: 13px;">${I} ${V}</span>
              </div>
              `:""}
              <div style="display: flex; justify-content: space-between; align-items: baseline; margin-top: 8px; padding-top: 8px; border-top: 1px solid rgba(255,255,255,0.1);">
                <span style="color: #9ca3af; font-size: 12px;">Share:</span>
                <span style="color: #eab308; font-weight: 700; font-size: 16px;">${N}%</span>
              </div>
            </div>
          `)}).on("mousemove",function(T,ne){Ue("#tooltip").style("left",T.clientX+15+"px").style("top",T.clientY-10+"px")}).on("mouseleave",function(T,ne){Ue(this).transition().duration(250).ease(Et).attr("d",$e).attr("opacity",w&&ne.data.name!==w?.3:.85).style("filter","drop-shadow(0 4px 6px rgba(0, 0, 0, 0.3))"),Ue("#tooltip").transition().duration(200).style("opacity","0").on("end",function(){Ue(this).style("left","-9999px").style("top","-9999px")})}).on("click",function(T,ne){T.stopPropagation(),S(ne.data.name),Ue("#tooltip").style("opacity","0").style("left","-9999px").style("top","-9999px"),Ue(this),g.selectAll("path").transition().duration(400).ease(Et).attr("d",Ce).attr("opacity",0).on("end",function(){g.selectAll("path").transition().duration(600).ease(St).attr("d",$e).attr("opacity",.85)})});const Ee=g.append("g");Ee.append("circle").attr("r",55).attr("fill","rgba(0, 0, 0, 0.4)").attr("stroke","rgba(212, 175, 55, 0.3)").attr("stroke-width",1.5),Ee.append("text").attr("text-anchor","middle").attr("y",-8).style("font-size","32px").style("font-weight","700").style("fill","#F2D57C").style("letter-spacing","1px").text(Y.toFixed(2)),Ee.append("text").attr("text-anchor","middle").attr("y",12).style("font-size","11px").style("fill","#9ca3af").style("text-transform","uppercase").style("letter-spacing","1.5px").text("WLFI")},[t,a,s,l,p,c,f,k,O,w,F,r,n,Y]),e.jsxs(e.Fragment,{children:[Kt.createPortal(e.jsx("div",{id:"tooltip"}),document.body),e.jsxs("div",{className:"relative bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-850 shadow-neo-raised dark:shadow-neo-raised-dark rounded-2xl sm:rounded-3xl p-4 sm:p-6 md:p-8 mb-4 sm:mb-6 md:mb-8 overflow-hidden border border-gray-300/50 dark:border-gray-600/40 transition-colors duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 sm:w-48 sm:h-48 md:w-64 md:h-64 bg-gradient-to-br from-[#F2D57C]/5 to-transparent rounded-full blur-2xl sm:blur-3xl animate-pulse"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 mb-4 sm:mb-5 md:mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-900 dark:text-gray-100 font-bold text-lg sm:text-xl mb-1",children:"Asset Allocation"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Real-time token distribution"})]}),w&&e.jsx("div",{className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-[#FFE7A3]/20 dark:bg-[#C9A854]/20 shadow-neo-inset dark:shadow-neo-inset-dark text-[#A69348] dark:text-[#F2D57C] text-xs sm:text-sm font-semibold rounded-lg sm:rounded-xl",children:e.jsxs("span",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 animate-pulse",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"truncate max-w-[150px] sm:max-w-none",children:w})]})})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-6 sm:gap-8 lg:gap-10 max-w-5xl mx-auto",children:[e.jsxs("div",{className:"flex-shrink-0 relative flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#F2D57C]/10 to-blue-500/10 rounded-full blur-2xl"}),e.jsx("svg",{ref:m,className:"relative drop-shadow-2xl"})]}),w&&e.jsxs("div",{className:"w-full max-w-xs p-3 sm:p-4 bg-[#FFE7A3]/20 dark:bg-[#C9A854]/20 shadow-neo-inset dark:shadow-neo-inset-dark border border-[#F2D57C] dark:border-[#C9A854] rounded-lg sm:rounded-xl animate-fadeIn",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-1.5 sm:mb-2",children:[e.jsxs("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-[#C9A854] dark:text-[#F2D57C] animate-pulse flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),e.jsxs("div",{className:"text-xs sm:text-sm text-[#A69348] dark:text-[#F2D57C] font-bold truncate",children:["Viewing: ",w]})]}),e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 dark:text-gray-400",children:"Click any section to animate and update view"})]})]}),e.jsxs("div",{className:"space-y-2.5 sm:space-y-3 flex-shrink-0 w-full lg:w-auto",children:[e.jsxs("div",{className:`cursor-pointer p-3 sm:p-4 rounded-lg sm:rounded-xl transition-all duration-300 touch-manipulation active:scale-[0.98] ${j==="vault"?"bg-[#FFE7A3]/20 dark:bg-[#C9A854]/20 shadow-neo-inset dark:shadow-neo-inset-dark border-2 border-[#F2D57C] dark:border-[#C9A854]":"bg-white dark:bg-gray-800 shadow-neo-raised dark:shadow-neo-raised-dark border border-gray-300/50 dark:border-gray-600/50 hover:shadow-neo-hover dark:hover:shadow-neo-hover-dark"}`,onClick:()=>{b(j==="vault"?null:"vault"),S(w!=null&&w.includes("Vault")?null:"Vault Reserves")},children:[e.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600 dark:text-gray-400 uppercase tracking-wider mb-1.5 sm:mb-2 font-semibold",children:"Vault Reserves"}),j==="vault"?e.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full shadow-neo-inset dark:shadow-neo-inset-dark flex-shrink-0",style:{backgroundColor:"#f6d55c"}}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-medium",children:"WLFI"})]}),e.jsx("span",{className:"text-xs sm:text-sm font-mono text-gray-900 dark:text-gray-100 font-semibold",children:t.toFixed(2)})]}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full shadow-neo-inset dark:shadow-neo-inset-dark flex-shrink-0",style:{backgroundColor:"#b8941f"}}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-medium",children:"USD1"})]}),e.jsx("span",{className:"text-xs sm:text-sm font-mono text-gray-900 dark:text-gray-100 font-semibold",children:a.toFixed(2)})]})]}):e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-sm sm:text-base text-gray-700 dark:text-gray-300 font-medium",children:"Total Value"}),e.jsxs("span",{className:"text-base sm:text-lg font-mono text-gray-900 dark:text-gray-100 font-bold",children:["$",P.toFixed(2)]})]}),e.jsxs("div",{className:"text-[10px] sm:text-xs text-[#A69348] dark:text-[#F2D57C] mt-1.5 sm:mt-2 font-semibold",children:[O>0?(P/O*100).toFixed(1):"0.0","%  Available now"]})]}),e.jsxs("div",{className:`cursor-pointer p-3 sm:p-4 rounded-lg sm:rounded-xl transition-all duration-300 touch-manipulation active:scale-[0.98] ${j==="usd1"?"bg-indigo-100/30 dark:bg-indigo-900/20 shadow-neo-inset dark:shadow-neo-inset-dark border-2 border-indigo-400 dark:border-indigo-500":"bg-indigo-50/50 dark:bg-indigo-950/30 shadow-neo-raised dark:shadow-neo-raised-dark border border-indigo-300/50 dark:border-indigo-700/50 hover:shadow-neo-hover dark:hover:shadow-neo-hover-dark"}`,onClick:()=>{b(j==="usd1"?null:"usd1"),S(w!=null&&w.includes("USD1")?null:"USD1/WLFI Strategy")},children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5 sm:mb-2",children:[e.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600 dark:text-gray-400 uppercase tracking-wider font-semibold",children:"USD1/WLFI Strategy"}),e.jsxs("a",{href:"https://alpha.charm.fi/ethereum/vault/0x22828dbf15f5fba2394ba7cf8fa9a96bdb444b71",target:"_blank",rel:"noopener noreferrer",onClick:G=>G.stopPropagation(),className:"text-[10px] text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 transition-colors flex items-center gap-1",title:"View on Charm Finance",children:[e.jsx("span",{children:"Charm"}),e.jsx("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),j==="usd1"?e.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full shadow-neo-inset dark:shadow-neo-inset-dark bg-indigo-400 flex-shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-medium",children:"USD1"})]}),e.jsx("span",{className:"text-xs sm:text-sm font-mono text-gray-900 dark:text-gray-100 font-semibold",children:f.toFixed(2)})]}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full shadow-neo-inset dark:shadow-neo-inset-dark bg-indigo-300 flex-shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-medium",children:"WLFI"})]}),e.jsx("span",{className:"text-xs sm:text-sm font-mono text-gray-900 dark:text-gray-100 font-semibold",children:k.toFixed(2)})]})]}):e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-sm sm:text-base text-gray-700 dark:text-gray-300 font-medium",children:"Total Value"}),e.jsxs("span",{className:"text-base sm:text-lg font-mono text-gray-900 dark:text-gray-100 font-bold",children:["$",l.toFixed(2)]})]}),e.jsxs("div",{className:"text-[10px] sm:text-xs text-indigo-600 dark:text-indigo-400 mt-1.5 sm:mt-2 font-semibold",children:[O>0?(ce/O*100).toFixed(1):"0","%  Charm USD1/WLFI"]})]}),E&&e.jsxs("div",{className:`cursor-pointer p-3 sm:p-4 rounded-lg sm:rounded-xl transition-all duration-300 touch-manipulation active:scale-[0.98] ${j==="weth"?"bg-gray-200 dark:bg-gray-800 shadow-neo-inset dark:shadow-neo-inset-dark border-2 border-gray-400 dark:border-gray-600":"bg-white dark:bg-gray-800 shadow-neo-raised dark:shadow-neo-raised-dark border border-gray-300/50 dark:border-gray-600/50 hover:shadow-neo-hover dark:hover:shadow-neo-hover-dark"}`,onClick:()=>{b(j==="weth"?null:"weth"),S(w!=null&&w.includes("WETH")?null:"WETH/WLFI Strategy")},children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5 sm:mb-2",children:[e.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600 dark:text-gray-400 uppercase tracking-wider font-semibold",children:"WETH/WLFI Strategy"}),e.jsxs("a",{href:"https://alpha.charm.fi/ethereum/vault/0x3314e248f3f752cd16939773d83beb3a362f0aef",target:"_blank",rel:"noopener noreferrer",onClick:G=>G.stopPropagation(),className:"text-[10px] text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 transition-colors flex items-center gap-1",title:"View on Charm Finance",children:[e.jsx("span",{children:"Charm"}),e.jsx("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),j==="weth"?e.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full shadow-neo-inset dark:shadow-neo-inset-dark bg-gradient-to-br from-gray-800 to-black flex-shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-medium",children:"WETH"})]}),e.jsx("span",{className:"text-xs sm:text-sm font-mono text-gray-900 dark:text-gray-100 font-semibold",children:u.toFixed(4)})]}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full shadow-neo-inset dark:shadow-neo-inset-dark bg-gradient-to-br from-gray-500 to-gray-600 flex-shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-medium",children:"WLFI"})]}),e.jsx("span",{className:"text-xs sm:text-sm font-mono text-gray-900 dark:text-gray-100 font-semibold",children:y.toFixed(2)})]})]}):e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-sm sm:text-base text-gray-700 dark:text-gray-300 font-medium",children:"Total Value"}),e.jsxs("span",{className:"text-base sm:text-lg font-mono text-gray-900 dark:text-gray-100 font-bold",children:["$",J.toFixed(2)]})]}),e.jsxs("div",{className:"text-[10px] sm:text-xs text-gray-700 dark:text-gray-400 mt-1.5 sm:mt-2 font-semibold",children:[O>0?(J/O*100).toFixed(1):"0","%  Charm WETH/WLFI"]})]})]})]})]})]})]})}const De=({label:t,icon:a,active:s=!1,glowing:l=!1,onClick:r,disabled:n=!1,className:p=""})=>e.jsxs(d.button,{onClick:r,disabled:n,whileHover:n?{}:{scale:1.03,y:-2},whileTap:n?{}:{scale:.97},transition:{type:"spring",stiffness:500,damping:20},style:{pointerEvents:n?"none":"auto"},className:`
        px-6 py-3 sm:px-8 sm:py-3.5 rounded-full flex items-center justify-center gap-2 sm:gap-3 font-semibold
        text-sm sm:text-base
        bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-850
        text-gray-900 dark:text-gray-100
        border border-gray-200/50 dark:border-gray-600/50
        transition-all duration-400 ease-out
        touch-manipulation
        ${n?"opacity-40 cursor-not-allowed grayscale":"cursor-pointer active:scale-95"}
        ${s?"shadow-neo-pressed dark:shadow-neo-pressed-dark border-gray-300/70 dark:border-gray-500/60":"shadow-neo-raised hover:shadow-neo-hover dark:shadow-neo-raised-dark dark:hover:shadow-neo-hover-dark hover:border-gray-300/70 dark:hover:border-gray-500/60"}
        ${l?"shadow-neo-glow dark:shadow-neo-glow-dark ring-2 ring-[#F2D57C] dark:ring-[#FFE7A3] ring-opacity-70 animate-pulse":""}
        focus:outline-none focus:ring-2 focus:ring-[#F2D57C] dark:focus:ring-[#FFE7A3] focus:ring-opacity-60
        ${p}
      `,children:[a&&e.jsx("span",{className:"transition-transform duration-300 group-hover:scale-110",children:a}),e.jsx("span",{className:"tracking-wide",children:t})]}),vt=({tabs:t,defaultTab:a,onChange:s})=>{var p;const[l,r]=o.useState(a||((p=t[0])==null?void 0:p.id)),n=c=>{r(c),s==null||s(c)};return e.jsx("div",{className:"flex gap-1 sm:gap-2 bg-gray-100 dark:bg-gray-800 p-1 rounded-full shadow-neo-raised dark:shadow-neo-raised-dark border border-gray-200/50 dark:border-gray-600/50 transition-all duration-300",children:t.map(c=>{const f=l===c.id;return e.jsx("button",{onClick:()=>n(c.id),className:`
              px-4 py-2 sm:px-6 sm:py-2 rounded-full font-medium transition-all duration-300
              relative flex-1 z-10
              text-xs sm:text-sm md:text-base
              touch-manipulation
              ${f?"text-gray-900 dark:text-white bg-white dark:bg-gray-700 shadow-neo-raised dark:shadow-neo-inset-dark border border-gray-200/50 dark:border-gray-600/50":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 active:bg-gray-200 dark:active:bg-gray-700"}
              focus:outline-none focus:ring-2 focus:ring-amber-400 focus:ring-opacity-50
            `,children:c.label},c.id)})})},ut=({type:t="text",value:a,onChange:s,placeholder:l,label:r,maxLabel:n,onMaxClick:p,className:c=""})=>e.jsxs("div",{className:c,children:[(r||n)&&e.jsxs("div",{className:"flex justify-between mb-2 sm:mb-3",children:[r&&e.jsx("label",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-semibold tracking-wide",children:r}),n&&p&&e.jsx(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:p,className:"text-xs text-gray-600 dark:text-gray-400 hover:text-[#F2D57C] dark:hover:text-[#FFE7A3] font-semibold transition-all duration-300 px-2 py-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 touch-manipulation active:bg-gray-200 dark:active:bg-gray-700",children:n})]}),e.jsx(d.div,{whileFocus:{scale:1.01},transition:{type:"spring",stiffness:400,damping:20},className:"relative",children:e.jsx("input",{type:t,value:a,onChange:f=>s(f.target.value),placeholder:l,className:`
            w-full px-4 py-3 sm:px-5 sm:py-4 rounded-xl sm:rounded-2xl
            bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-850
            shadow-neo-inset dark:shadow-neo-inset-dark
            focus:shadow-neo-pressed dark:focus:shadow-neo-pressed-dark
            border border-gray-200/50 dark:border-gray-600/50
            focus:border-gray-300/70 dark:focus:border-gray-500/60
            text-gray-900 dark:text-gray-100 
            placeholder-gray-400 dark:placeholder-gray-500
            text-base sm:text-lg font-semibold
            focus:outline-none focus:ring-2 focus:ring-[#F2D57C] dark:focus:ring-[#FFE7A3] focus:ring-opacity-40
            transition-all duration-400 ease-out
            touch-manipulation
          `})})]}),qe=({children:t,className:a="",hoverable:s=!1})=>e.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.25,.1,.25,1]},whileHover:s?{scale:1.015,y:-4}:{},className:`
        bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-850
        rounded-2xl sm:rounded-3xl p-4 sm:p-5 md:p-6
        shadow-neo-raised dark:shadow-neo-raised-dark
        border border-gray-200/50 dark:border-gray-600/50
        backdrop-blur-sm
        ${s?"hover:shadow-neo-raised-lift dark:hover:shadow-neo-raised-lift-dark hover:border-gray-300/60 dark:hover:border-gray-500/60 cursor-pointer active:scale-[1.01]":""}
        transition-all duration-500 ease-out
        touch-manipulation
        ${a}
      `,children:t}),Te=({label:t,value:a,subtitle:s,highlighted:l=!1,className:r=""})=>e.jsxs(d.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{scale:1.03,y:-4},transition:{type:"spring",stiffness:500,damping:20},className:`
        bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-850
        rounded-2xl sm:rounded-3xl p-4 sm:p-5 md:p-6
        shadow-neo-raised dark:shadow-neo-raised-dark
        hover:shadow-neo-hover dark:hover:shadow-neo-hover-dark
        border border-gray-200/50 dark:border-gray-600/50
        hover:border-gray-300/70 dark:hover:border-gray-500/60
        backdrop-blur-sm
        transition-all duration-500 ease-out
        touch-manipulation
        ${l?"border-t-2 sm:border-t-4 border-t-eagle-gold dark:border-t-eagle-gold-light ring-1 ring-amber-400/20 dark:ring-amber-500/20":""}
        ${r}
      `,children:[e.jsx("div",{className:"text-[10px] sm:text-xs md:text-sm text-gray-600 dark:text-gray-400 font-semibold uppercase tracking-wider mb-2 sm:mb-3 transition-colors duration-300 truncate",children:t}),e.jsx("div",{className:`text-2xl sm:text-3xl md:text-4xl font-bold mb-1.5 sm:mb-2 transition-all duration-300 truncate ${l?"text-eagle-gold-darker dark:text-eagle-gold-light bg-gradient-to-r from-amber-600 to-orange-600 dark:from-amber-400 dark:to-orange-400 bg-clip-text text-transparent":"text-gray-900 dark:text-gray-100"}`,children:a}),s&&e.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600 dark:text-gray-400 font-medium transition-colors duration-300 truncate",children:s})]}),Z={backgrounds:{highlight:"bg-gradient-to-br from-[#FFE7A3]/20 to-[#F2D57C]/10 dark:from-[#A69348]/20 dark:to-[#C9A854]/15"},shadows:{raised:"shadow-neo-raised dark:shadow-neo-raised-dark",raisedHover:"hover:shadow-neo-hover dark:hover:shadow-neo-hover-dark"},borders:{separator:"border-gray-300/50 dark:border-[#2F3742]/30"},radius:{full:"rounded-full"},text:{h3:"text-xl font-semibold text-gray-900 dark:text-gray-100",highlight:"text-[#C9A854] dark:text-[#F2D57C]"},transitions:{default:"transition-all duration-300 ease-out"},interactive:{hover:"hover:scale-[1.02] hover:shadow-neo-hover dark:hover:shadow-neo-hover-dark",active:"active:scale-[0.98]"}},Ia="0x9C2C8910F113f3b3B4F1f454D23A0F6B61B8E5A7",Wa="0xCa2e972f081764c30Ae5F012A29D5277EEf33838";function Da(){const[t,a]=o.useState({strategy1:{tvl:0,avgAPR:0,maxAPR:0,avgVolume:0,loading:!0,error:null},strategy2:{tvl:0,avgAPR:0,maxAPR:0,avgVolume:0,loading:!0,error:null}});return o.useEffect(()=>{let s=!0;const l=[];async function r(c){const f=new AbortController;l.push(f);const k=setTimeout(()=>f.abort(),1e4);try{const m=await fetch(`/api/revert-finance?pool=${c}&days=30&network=mainnet`,{signal:f.signal});if(clearTimeout(k),!m.ok){if(m.status===404||m.status>=400)return{tvl:0,avgAPR:0,maxAPR:0,avgVolume:0,loading:!1,error:null};throw new Error(`HTTP error! status: ${m.status}`)}const w=await m.json();if(w.success&&w.data&&w.data.length>0){const S=w.data[w.data.length-1],F=w.data.slice(-7),i=F.filter(v=>v.fees_apr>0),j=i.length>0?i.reduce((v,u)=>v+u.fees_apr,0)/i.length:0,b=F.reduce((v,u)=>v+u.volume_usd,0)/7,L=Math.max(...F.map(v=>v.fees_apr));return{tvl:S.tvl_usd||0,avgAPR:j,maxAPR:L,avgVolume:b,loading:!1,error:null}}else return{tvl:0,avgAPR:0,maxAPR:0,avgVolume:0,loading:!1,error:null}}catch(m){return clearTimeout(k),m.name!=="AbortError"&&m.name!=="TimeoutError"&&console.warn(`[useRevertFinanceData] Error for ${c}:`,m.message),{tvl:0,avgAPR:0,maxAPR:0,avgVolume:0,loading:!1,error:null}}}async function n(){if(s)try{const[c,f]=await Promise.all([r(Ia),r(Wa)]);s&&a({strategy1:c,strategy2:f})}catch{s&&a(f=>({strategy1:f.strategy1.loading?{...f.strategy1,loading:!1,error:null}:f.strategy1,strategy2:f.strategy2.loading?{...f.strategy2,loading:!1,error:null}:f.strategy2}))}}n();const p=setInterval(n,10*60*1e3);return()=>{s=!1,clearInterval(p),l.forEach(c=>c.abort())}},[]),t}function Mt(){const{safe:t,sdk:a,connected:s}=Pt.useSafeAppsSDK(),[l,r]=o.useState(!1);return o.useEffect(()=>{(async()=>{try{t.safeAddress&&t.chainId&&r(!0)}catch{console.log("Not running as Safe App"),r(!1)}})()},[t,s]),{isSafeApp:l,safeAddress:t.safeAddress,chainId:t.chainId,sdk:a,connected:s,safe:t,isSafeMultisig:n=>!n||!t.safeAddress?!1:t.safeAddress.toLowerCase()===n.toLowerCase()}}const lt=["function depositAndWrap(uint256 assets, address receiver) external returns (uint256 eagleAmount)","function unwrapAndRedeem(uint256 eagleAmount, address receiver) external returns (uint256 assets)","function previewDepositAndWrap(uint256 assets) external view returns (uint256 eagleAmount)","function previewUnwrapAndRedeem(uint256 eagleAmount) external view returns (uint256 assets)","function getContracts() external view returns (address vault, address wrapper, address eagle, address asset, address registry)","event DepositedAndWrapped(address indexed user, uint256 assetsIn, uint256 eagleOut)","event UnwrappedAndRedeemed(address indexed user, uint256 eagleIn, uint256 assetsOut)"],Je=["function approve(address spender, uint256 amount) external returns (bool)","function allowance(address owner, address spender) external view returns (uint256)","function balanceOf(address account) external view returns (uint256)"],he={COMPOSER:"0x3A91B3e863C0bd6948088e8A0A9B1D22d6D05da9",WLFI:"0xdA5e1988097297dCdc1f90D4dFE7909e847CBeF6",EAGLE:"0x474eD38C256A7FA0f3B8c48496CE1102ab0eA91E"};function Va(){const{address:t}=Vt(),a=aa(),{data:s}=sa(),[l,r]=o.useState(!1),[n,p]=o.useState(null),c=o.useCallback(()=>a?new yt(window.ethereum):null,[a]),f=o.useCallback(async()=>s?new yt(window.ethereum).getSigner():null,[s]),k=o.useCallback(async b=>{const L=c();if(!L||b===0n)return null;try{const u=await new H(he.COMPOSER,lt,L).previewDepositAndWrap(b),y=Number(u)/Number(b)*100,E=b-u,P=Number(E)/Number(b)*100;return{inputAmount:b,outputAmount:u,conversionRate:y,estimatedFee:E,feePercentage:P}}catch(v){console.error("Preview deposit failed:",v);let u=v.message;return(v.data==="0x19abf40e"||u.includes("0x19abf40e"))&&(u="Oracle prices are stale. Cannot preview deposit at this time."),p(u),null}},[c]),m=o.useCallback(async b=>{const L=c();if(!L||b===0n)return null;try{const u=await new H(he.COMPOSER,lt,L).previewUnwrapAndRedeem(b),y=Number(u)/Number(b)*100,E=b-u,P=Number(E)/Number(b)*100;return{inputAmount:b,outputAmount:u,conversionRate:y,estimatedFee:E,feePercentage:P}}catch(v){console.error("Preview redeem failed:",v);let u=v.message;return(v.data==="0x19abf40e"||u.includes("0x19abf40e"))&&(u="Oracle prices are stale. Cannot preview redeem at this time."),p(u),null}},[c]),w=o.useCallback(async(b,L,v)=>{var u;if(!t){const y="Wallet not connected";return p(y),v==null||v(y),null}r(!0),p(null);try{const y=await f();if(!y)throw new Error("Failed to get signer");const E=new H(he.COMPOSER,lt,y),P=new H(he.WLFI,Je,y);await P.allowance(t,he.COMPOSER)<b&&(console.log("Approving WLFI..."),await(await P.approve(he.COMPOSER,b)).wait(),console.log(" WLFI approved")),console.log("Depositing and wrapping...");const O=await(await E.depositAndWrap(b,t)).wait();console.log(" Deposit completed");const _=O.logs.map(G=>{try{return E.interface.parseLog(G)}catch{return null}}).find(G=>(G==null?void 0:G.name)==="DepositedAndWrapped"),B=((u=_==null?void 0:_.args)==null?void 0:u.eagleOut)||0n,Y={hash:O.hash,inputAmount:b,outputAmount:B,gasUsed:O.gasUsed};return L==null||L(Y),r(!1),Y}catch(y){console.error("Deposit failed:",y);let E=y.reason||y.message||"Transaction failed";return y.data==="0x19abf40e"||E.includes("0x19abf40e")?E=" Oracle prices are stale. The protocol needs fresh price updates to process deposits. Please try again in a few minutes or contact support.":E.includes("execution reverted")&&(E="Transaction would fail. This may be due to stale price oracles. Please try again later."),p(E),v==null||v(E),r(!1),null}},[f,t]),S=o.useCallback(async(b,L,v)=>{var u;if(!t){const y="Wallet not connected";return p(y),v==null||v(y),null}r(!0),p(null);try{const y=await f();if(!y)throw new Error("Failed to get signer");const E=new H(he.COMPOSER,lt,y),P=new H(he.EAGLE,Je,y);await P.allowance(t,he.COMPOSER)<b&&(console.log("Approving EAGLE..."),await(await P.approve(he.COMPOSER,b)).wait(),console.log(" EAGLE approved")),console.log("Unwrapping and redeeming...");const O=await(await E.unwrapAndRedeem(b,t)).wait();console.log(" Redeem completed");const _=O.logs.map(G=>{try{return E.interface.parseLog(G)}catch{return null}}).find(G=>(G==null?void 0:G.name)==="UnwrappedAndRedeemed"),B=((u=_==null?void 0:_.args)==null?void 0:u.assetsOut)||0n,Y={hash:O.hash,inputAmount:b,outputAmount:B,gasUsed:O.gasUsed};return L==null||L(Y),r(!1),Y}catch(y){console.error("Redeem failed:",y);let E=y.reason||y.message||"Transaction failed";return y.data==="0x19abf40e"||E.includes("0x19abf40e")?E=" Oracle prices are stale. The protocol needs fresh price updates to process withdrawals. Please try again in a few minutes or contact support.":E.includes("execution reverted")&&(E="Transaction would fail. This may be due to stale price oracles or insufficient liquidity. Please try again later."),p(E),v==null||v(E),r(!1),null}},[f,t]),F=o.useCallback(async()=>{const b=c();if(!b||!t)return{wlfi:0n,eagle:0n};try{const L=new H(he.WLFI,Je,b),v=new H(he.EAGLE,Je,b),[u,y]=await Promise.all([L.balanceOf(t),v.balanceOf(t)]);return{wlfi:u,eagle:y}}catch(L){return console.error("Failed to get balances:",L),{wlfi:0n,eagle:0n}}},[c,t]),i=o.useCallback(async(b,L)=>{const v=c();if(!v||!t)return!1;try{const u=b==="wlfi"?he.WLFI:he.EAGLE;return await new H(u,Je,v).allowance(t,he.COMPOSER)>=L}catch(u){return console.error("Failed to check allowance:",u),!1}},[c,t]),j=o.useCallback(async(b,L,v,u)=>{if(!t){const y="Wallet not connected";return p(y),u==null||u(y),!1}r(!0),p(null);try{const y=await f();if(!y)throw new Error("Failed to get signer");const E=b==="wlfi"?he.WLFI:he.EAGLE,P=new H(E,Je,y);return console.log(`Approving ${b.toUpperCase()}...`),await(await P.approve(he.COMPOSER,L)).wait(),console.log(` ${b.toUpperCase()} approved`),v==null||v(),r(!1),!0}catch(y){console.error("Approval failed:",y);const E=y.reason||y.message||"Approval failed";return p(E),u==null||u(E),r(!1),!1}},[f,t]);return{previewDeposit:k,previewRedeem:m,depositWLFI:w,redeemEAGLE:S,getBalances:F,checkAllowance:i,approveToken:j,loading:l,error:n,isConnected:!!t,addresses:he}}function Pa(){const{previewDeposit:t,previewRedeem:a,depositWLFI:s,redeemEAGLE:l,getBalances:r,checkAllowance:n,approveToken:p,loading:c,error:f,isConnected:k}=Va(),[m,w]=o.useState("deposit"),[S,F]=o.useState(""),[i,j]=o.useState(null),[b,L]=o.useState({wlfi:0n,eagle:0n}),[v,u]=o.useState(null),[y,E]=o.useState(!1);o.useEffect(()=>{k&&r().then(L)},[k,r]),o.useEffect(()=>{const _=parseFloat(S);if(!_||_<=0){j(null),E(!1);return}const B=ot(S);m==="deposit"?(t(B).then(j),n("wlfi",B).then(Y=>E(!Y))):(a(B).then(j),n("eagle",B).then(Y=>E(!Y)))},[S,m,t,a,n]);const P=async()=>{if(!S)return;u("Requesting approval...");const _=ot(S);await p(m==="deposit"?"wlfi":"eagle",_,()=>{u(" Approved!"),E(!1),setTimeout(()=>u(null),2e3)},Y=>{u(` ${Y}`),setTimeout(()=>u(null),5e3)})},ce=async()=>{if(!S)return;u("Depositing...");const _=ot(S);await s(_,B=>{u(" Success!"),F(""),setTimeout(()=>u(null),3e3),r().then(L)},B=>{u(` ${B}`),setTimeout(()=>u(null),5e3)})},J=async()=>{if(!S)return;u("Redeeming...");const _=ot(S);await l(_,B=>{u(" Success!"),F(""),setTimeout(()=>u(null),3e3),r().then(L)},B=>{u(` ${B}`),setTimeout(()=>u(null),5e3)})},O=()=>{F(m==="deposit"?rt(b.wlfi):rt(b.eagle))};return e.jsxs(qe,{className:"mt-6",children:[e.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-300/50 dark:border-gray-700/30",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Eagle Composer"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"One-click vault operations"})]})}),e.jsx("div",{className:"px-4 sm:px-6 pt-4",children:e.jsx(vt,{tabs:[{id:"deposit",label:"Deposit"},{id:"redeem",label:"Redeem"}],defaultTab:m,onChange:_=>{w(_),F(""),j(null)}})}),e.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:k?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Balance:"}),e.jsx("span",{className:"font-mono text-gray-900 dark:text-white",children:m==="deposit"?`${Number(rt(b.wlfi)).toFixed(2)} WLFI`:`${Number(rt(b.eagle)).toFixed(2)} EAGLE`})]}),e.jsxs("div",{className:`text-xs font-medium px-2 py-0.5 rounded ${m==="deposit"?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20":"text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/20"}`,children:[m==="deposit"?"1%":"2%"," fee"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ut,{type:"number",placeholder:"0.0",value:S,onChange:F,className:"pr-16"}),e.jsx("button",{onClick:O,className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs font-semibold text-gray-600 dark:text-gray-400 hover:text-[#A27D46] dark:hover:text-[#D4B474] transition-colors uppercase tracking-wider",children:"Max"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})}),i&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"You'll receive:"}),e.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:[Number(rt(i.outputAmount)).toFixed(4)," ",m==="deposit"?"EAGLE":"WLFI"]})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-500",children:"Conversion rate:"}),e.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[i.conversionRate.toFixed(2),"%"]})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-500",children:"Fees:"}),e.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["~",i.feePercentage.toFixed(2),"%"]})]})]}),v&&e.jsx("div",{className:`p-3 rounded-lg text-sm text-center ${v.includes("")?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-300":v.includes("")?"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300":"bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300"}`,children:v}),f&&e.jsx("div",{className:"p-3 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 text-sm",children:f}),e.jsx(De,{onClick:y?P:m==="deposit"?ce:J,disabled:c||!S||parseFloat(S)<=0,className:"w-full",children:c?"Processing...":y?`Approve ${m==="deposit"?"WLFI":"EAGLE"}`:m==="deposit"?"Deposit":"Redeem"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:m==="deposit"?e.jsxs(e.Fragment,{children:[e.jsx("p",{children:" Converts WLFI  vEAGLE  EAGLE in one transaction"}),e.jsx("p",{children:" Includes vault deposit fee + wrapper fee"}),e.jsx("p",{children:" EAGLE can be used for cross-chain operations"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{children:" Converts EAGLE  vEAGLE  WLFI in one transaction"}),e.jsx("p",{children:" Includes wrapper fee + vault withdrawal fee"}),e.jsx("p",{children:" Receive WLFI directly in your wallet"})]})})]}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Connect your wallet to use Composer"})})})]})}const Ot={currentFeeApr:"0",weeklyApy:"0",monthlyApy:"0",historicalSnapshots:[],calculatedApr:null,calculatedApy:null,liquidTotal:"0",strategyTotal:"0"},_t=o.createContext({stats:Ot,setStats:()=>{},isLoaded:!1});function Ba({children:t}){const[a,s]=o.useState(Ot),[l,r]=o.useState(!1),n=o.useCallback(p=>{s(c=>({...c,...p})),r(!0)},[]);return e.jsx(_t.Provider,{value:{stats:a,setStats:n,isLoaded:l},children:t})}function Ua(){return o.useContext(_t)}const Ha=o.lazy(()=>pa(()=>import("./VaultVisualization.CPvAFlfy.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])));function Ra({strategy:t,wlfiPrice:a,revertData:s,onToast:l}){const[r,n]=o.useState(!1),p=t.id===1?s==null?void 0:s.strategy1:t.id===2?s==null?void 0:s.strategy2:null;return e.jsxs("div",{className:`
      group relative rounded-2xl overflow-hidden transition-all duration-300
      ${t.status==="active"?"bg-white/5 dark:bg-white/5 border border-gray-200/10 dark:border-gray-700/20 hover:bg-white/8 dark:hover:bg-white/8 hover:border-[#D4B474]/20":"bg-white/3 dark:bg-white/3 border border-gray-200/5 dark:border-gray-700/10 opacity-40"}
    `,children:[e.jsx("button",{onClick:()=>n(!r),className:"w-full px-4 sm:px-5 py-3.5 sm:py-4 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center justify-between w-full gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[e.jsxs("span",{className:`
                text-base font-bold shrink-0
                ${t.status==="active"?"text-[#D4B474]":"text-gray-600 dark:text-gray-600"}
              `,children:["#",t.id]}),e.jsx("h4",{className:`
                font-semibold text-base truncate
                ${t.status==="active"?"text-gray-900 dark:text-white":"text-gray-700 dark:text-gray-400"}
              `,children:t.name})]}),t.status==="active"&&e.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-gray-500 dark:text-gray-500",children:[e.jsxs("span",{children:["Uniswap ",t.feeTier||"1%"," Fee Tier"]}),e.jsx("span",{children:""}),e.jsx("span",{className:"text-[#A27D46] dark:text-[#D4B474]",children:"4.7% Performance Fee"})]}),t.status!=="active"&&e.jsx("div",{className:"text-[11px] text-gray-500 dark:text-gray-500",children:t.protocol})]}),e.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[t.allocation&&t.status==="active"&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-[9px] text-gray-500 dark:text-gray-500 uppercase tracking-wider mb-1",children:"Allocation"}),e.jsx("div",{className:"text-2xl font-bold text-[#D4B474] leading-none",children:t.allocation})]}),e.jsx("div",{className:`
              transition-all duration-300
              ${t.status==="active"?"text-gray-400 group-hover:text-[#D4B474]":"text-gray-600"}
            `,children:e.jsx("svg",{className:`w-5 h-5 transition-transform duration-300 ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})]})}),r&&e.jsxs("div",{className:`
          px-4 sm:px-5 pb-4 sm:pb-5 pt-4 border-t animate-fadeIn
          ${t.status==="active"?"border-gray-200/5 dark:border-gray-700/10":"border-gray-200/3 dark:border-gray-700/5"}
        `,children:[t.status==="active"&&e.jsxs(e.Fragment,{children:[t.deployed!==void 0&&e.jsxs("div",{className:"mb-4 bg-gradient-to-br from-emerald-50/50 to-green-50/50 dark:from-emerald-900/10 dark:to-green-900/10 rounded-lg p-4 border border-emerald-200/30 dark:border-emerald-700/20",children:[e.jsx("div",{className:"text-[10px] text-gray-500 dark:text-gray-500 uppercase tracking-wider mb-2",children:"Deployed Capital"}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-3",children:["$",Number(t.deployed).toFixed(0)]}),t.usd1Amount&&Number(t.usd1Amount)>0?e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 bg-white/50 dark:bg-black/20 rounded-lg px-3 py-2",children:[e.jsx(Re,{symbol:"USD1",address:h.USD1,className:"w-5 h-5 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"USD1"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:Number(t.usd1Amount).toFixed(2)})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-1 bg-white/50 dark:bg-black/20 rounded-lg px-3 py-2",children:[e.jsx(Re,{symbol:"WLFI",address:h.WLFI,className:"w-5 h-5 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"WLFI"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:Number(t.wlfiAmount).toFixed(2)})]})]})]}):t.wethAmount&&Number(t.wethAmount)>0?e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 bg-white/50 dark:bg-black/20 rounded-lg px-3 py-2",children:[e.jsx(Re,{symbol:"WETH",address:h.WETH,className:"w-5 h-5 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"WETH"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:Number(t.wethAmount).toFixed(4)})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-1 bg-white/50 dark:bg-black/20 rounded-lg px-3 py-2",children:[e.jsx(Re,{symbol:"WLFI",address:h.WLFI,className:"w-5 h-5 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"WLFI"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:Number(t.wlfiAmount).toFixed(2)})]})]})]}):null]}),t.id===1&&a&&e.jsx("div",{className:"mb-4",children:e.jsx($t,{fallback:e.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/30 border border-orange-300 dark:border-orange-700 rounded-lg p-4 text-center",children:e.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-400",children:"3D visualization unavailable"})}),children:e.jsx(o.Suspense,{fallback:e.jsx("div",{className:"bg-white/30 dark:bg-gray-800/30 rounded-lg p-6 flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("svg",{className:"animate-spin w-8 h-8 mx-auto mb-2 text-[#A27D46] dark:text-[#D4B474]",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Loading..."})]})}),children:e.jsx(Ha,{currentPrice:Number(a)})})})}),t.id===2&&p&&!p.loading&&e.jsxs("div",{className:"mb-4 bg-gradient-to-r from-purple-50/50 to-blue-50/50 dark:from-purple-900/10 dark:to-blue-900/10 rounded-lg p-4 border border-purple-200/30 dark:border-purple-700/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Pool Analytics (Revert Finance)"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white/50 dark:bg-black/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-[10px] text-gray-500 dark:text-gray-500 uppercase tracking-wider mb-1",children:"Pool TVL"}),e.jsxs("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["$",(p.tvl/1e3).toFixed(1),"K"]})]}),e.jsxs("div",{className:"bg-white/50 dark:bg-black/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-[10px] text-gray-500 dark:text-gray-500 uppercase tracking-wider mb-1",children:"7D Avg APR"}),e.jsxs("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:[p.avgAPR.toFixed(2),"%"]})]}),e.jsxs("div",{className:"bg-white/50 dark:bg-black/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-[10px] text-gray-500 dark:text-gray-500 uppercase tracking-wider mb-1",children:"Max APR (7D)"}),e.jsxs("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:[p.maxAPR.toFixed(2),"%"]})]}),e.jsxs("div",{className:"bg-white/50 dark:bg-black/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-[10px] text-gray-500 dark:text-gray-500 uppercase tracking-wider mb-1",children:"Avg Volume (7D)"}),e.jsxs("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:["$",(p.avgVolume/1e3).toFixed(1),"K"]})]})]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:t.description}),t.contract&&e.jsx("div",{className:"space-y-2 mb-4",children:e.jsxs("div",{className:"bg-white/5 dark:bg-white/5 rounded-lg p-3 border border-gray-200/10 dark:border-gray-700/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-500 uppercase tracking-wider font-semibold shrink-0 min-w-[100px]",children:"Strategy:"}),e.jsx("a",{href:`https://etherscan.io/address/${t.contract}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 text-xs text-gray-700 dark:text-gray-300 hover:text-[#A27D46] dark:hover:text-[#D4B474] font-mono transition-colors truncate",title:t.contract,children:t.contract}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(t.contract),l({message:"Contract address copied!",type:"success"})},className:"shrink-0 p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",title:"Copy address",children:e.jsx("svg",{className:"w-3 h-3 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),e.jsx("a",{href:`https://etherscan.io/address/${t.contract}`,target:"_blank",rel:"noopener noreferrer",className:"shrink-0 p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",title:"View on Etherscan",children:e.jsx("svg",{className:"w-3 h-3 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]}),t.charmVault&&e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-500 uppercase tracking-wider font-semibold shrink-0 min-w-[100px]",children:"Charm Vault:"}),e.jsx("a",{href:`https://etherscan.io/address/${t.charmVault}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 text-xs text-gray-700 dark:text-gray-300 hover:text-[#A27D46] dark:hover:text-[#D4B474] font-mono transition-colors truncate",title:t.charmVault,children:t.charmVault}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(t.charmVault),l({message:"Charm Vault address copied!",type:"success"})},className:"shrink-0 p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",title:"Copy address",children:e.jsx("svg",{className:"w-3 h-3 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),e.jsx("a",{href:`https://etherscan.io/address/${t.charmVault}`,target:"_blank",rel:"noopener noreferrer",className:"shrink-0 p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",title:"View on Etherscan",children:e.jsx("svg",{className:"w-3 h-3 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]}),t.uniswapPool&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-500 uppercase tracking-wider font-semibold shrink-0 min-w-[100px]",children:"Uniswap Pool:"}),e.jsx("a",{href:`https://etherscan.io/address/${t.uniswapPool}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 text-xs text-gray-700 dark:text-gray-300 hover:text-[#A27D46] dark:hover:text-[#D4B474] font-mono transition-colors truncate",title:t.uniswapPool,children:t.uniswapPool}),e.jsx("div",{className:"px-1.5 py-0.5 bg-blue-100 dark:bg-blue-900/30 rounded text-[9px] font-semibold text-blue-700 dark:text-blue-400 shrink-0",children:t.feeTier||"1%"}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(t.uniswapPool),l({message:"Pool address copied!",type:"success"})},className:"shrink-0 p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",title:"Copy address",children:e.jsx("svg",{className:"w-3 h-3 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),e.jsx("a",{href:`https://etherscan.io/address/${t.uniswapPool}`,target:"_blank",rel:"noopener noreferrer",className:"shrink-0 p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",title:"View on Etherscan",children:e.jsx("svg",{className:"w-3 h-3 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),e.jsx("a",{href:`https://revert.finance/#/pool/mainnet/uniswapv3/${t.uniswapPool}`,target:"_blank",rel:"noopener noreferrer",className:"shrink-0 p-1.5 rounded hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors",title:"View on Revert Finance",children:e.jsx("svg",{className:"w-3 h-3 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})]})})]}),t.status==="coming-soon"&&e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700 text-center",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This strategy will be available in a future update."})})]})]})}const Lt=["function totalAssets() view returns (uint256)","function totalSupply() view returns (uint256)","function balanceOf(address) view returns (uint256)","function depositDual(uint256 wlfiAmount, uint256 usd1Amount, address receiver) returns (uint256)","function redeem(uint256 shares, address receiver, address owner) returns (uint256)","function getWLFIPrice() view returns (uint256)","function getUSD1Price() view returns (uint256)","function convertToShares(uint256 assets) view returns (uint256)","function convertToAssets(uint256 shares) view returns (uint256)","function maxWithdraw(address owner) view returns (uint256)","function maxRedeem(address owner) view returns (uint256)"],dt=["function balanceOf(address) view returns (uint256)","function allowance(address, address) view returns (uint256)","function approve(address, uint256) returns (bool)","function decimals() view returns (uint8)","function symbol() view returns (string)"];function $a({provider:t,account:a,onToast:s,onNavigateUp:l,onNavigateToWrapper:r,onNavigateToCrossChain:n,onNavigateToAnalytics:p}){const[c,f]=o.useState("vault"),[k,m]=o.useState(""),[w,S]=o.useState(""),[F,i]=o.useState(""),[j,b]=o.useState("user"),[L,v]=o.useState(!1),[u,y]=o.useState(!1),{setStats:E}=Ua(),[P,ce]=o.useState(""),[J,O]=o.useState(""),[_,B]=o.useState(!1),[Y,G]=o.useState(null),{isSafeApp:z,safeAddress:ke,isSafeMultisig:ge}=Mt(),K=z&&ke?ke:a,ue=(a==null?void 0:a.toLowerCase())===h.MULTISIG.toLowerCase()||z&&ge(h.MULTISIG);o.useEffect(()=>{(a||z)&&console.log("[VaultView] Admin Check:",{currentAccount:a,currentAccountLower:a==null?void 0:a.toLowerCase(),multisig:h.MULTISIG,multisigLower:h.MULTISIG.toLowerCase(),isSafeApp:z,safeAddress:ke,effectiveAddress:K,usingAddress:K?`Using ${z?"Safe":"regular"} wallet: ${K}`:"No address",isSafeMultisig:ge(h.MULTISIG),isActualAdmin:ue})},[a,ue,z,ke,K,ge]);const Ae=Da(),[g,Fe]=o.useState({totalAssets:"0",totalSupply:"0",userBalance:"0",wlfiBalance:"0",usd1Balance:"0",wlfiPrice:"0.132",usd1Price:"1.000",userBalanceUSD:"0",expectedShares:"0",expectedWithdrawWLFI:"0",expectedWithdrawUSD1:"0",maxRedeemable:"0",vaultLiquidWLFI:"0",vaultLiquidUSD1:"0",strategyWLFI:"0",strategyUSD1:"0",strategyWETH:"0",strategyWLFIinPool:"0",strategyUSD1InPool:"0",strategyWLFIinUSD1Pool:"0",liquidTotal:"0",strategyTotal:"0",currentFeeApr:"0",weeklyApy:"0",monthlyApy:"0",historicalSnapshots:[],calculatedApr:null,calculatedApy:null});o.useEffect(()=>{const x=document.getElementById("vault-floor");x&&(x.scrollTop=0)},[]);const _e=x=>{if(!x||x<=0||!isFinite(x))return 0;const N=x/100,I=(Math.pow(1+N/365,365)-1)*100;return isNaN(I)||!isFinite(I)?0:I},$e=o.useCallback(async(x,N)=>{try{console.log("[fetchCharmStats] Starting fetch with TVL:",{usd1StrategyTvl:x,wethStrategyTvl:N});const V=await fetch("https://stitching-v2.herokuapp.com/1",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`query GetVaults($usd1Address: ID!, $wethAddress: ID!) {
        usd1: vault(id: $usd1Address) { 
          total0
          total1
          totalSupply
          fullFees0
          fullFees1
          baseFees0
          baseFees1
          limitFees0
          limitFees1
          pool {
            token0Price
            token1Price
          }
          collectFee(orderBy: timestamp, orderDirection: desc, first: 100) {
            id
            feesToVault0
            feesToVault1
            feesToProtocol0
            feesToProtocol1
            timestamp
          }
          snapshot(orderBy: timestamp, orderDirection: desc, first: 100) { 
            id
            tick
            totalAmount0
            totalAmount1
            totalSupply
            baseLower
            baseUpper
            limitLower
            limitUpper
            timestamp
            price
            fullRangeWeight
            txHash
            vsHoldPerfSince
            annualVsHoldPerfSince
            feeApr
          } 
        }
        weth: vault(id: $wethAddress) { 
          total0
          total1
          totalSupply
          fullFees0
          fullFees1
          baseFees0
          baseFees1
          limitFees0
          limitFees1
          pool {
            token0Price
            token1Price
          }
          collectFee(orderBy: timestamp, orderDirection: desc, first: 100) {
            id
            feesToVault0
            feesToVault1
            feesToProtocol0
            feesToProtocol1
            timestamp
          }
          snapshot(orderBy: timestamp, orderDirection: desc, first: 100) { 
            id
            tick
            totalAmount0
            totalAmount1
            totalSupply
            baseLower
            baseUpper
            limitLower
            limitUpper
            timestamp
            price
            fullRangeWeight
            txHash
            vsHoldPerfSince
            annualVsHoldPerfSince
            feeApr
          } 
        }
      }`,variables:{usd1Address:h.CHARM_VAULT_USD1.toLowerCase(),wethAddress:h.CHARM_VAULT_WETH.toLowerCase()}})});if(!V.ok)return console.error("[fetchCharmStats] HTTP error:",V.status,V.statusText),null;const q=await V.json();if(console.log("[fetchCharmStats] API response:",q),q.errors)return console.error("[fetchCharmStats] GraphQL errors:",q.errors),null;if(!q.data)return console.warn("[fetchCharmStats] No data in response"),null;const de=q.data.usd1||{},re=q.data.weth||{},ee=de.snapshot||[],be=re.snapshot||[],fe=de.collectFee||[],ye=re.collectFee||[];console.log("[fetchCharmStats] Snapshots:",{usd1Count:ee.length,wethCount:be.length}),console.log("[fetchCharmStats] CollectFee events:",{usd1Count:fe.length,wethCount:ye.length});const Ve=parseFloat(de.fullFees0||"0")+parseFloat(de.baseFees0||"0")+parseFloat(de.limitFees0||"0"),Pe=parseFloat(de.fullFees1||"0")+parseFloat(de.baseFees1||"0")+parseFloat(de.limitFees1||"0"),Ie=parseFloat(re.fullFees0||"0")+parseFloat(re.baseFees0||"0")+parseFloat(re.limitFees0||"0"),Se=parseFloat(re.fullFees1||"0")+parseFloat(re.baseFees1||"0")+parseFloat(re.limitFees1||"0");console.log("[fetchCharmStats] Vault fees:",{usd1:{fees0:Ve,fees1:Pe},weth:{fees0:Ie,fees1:Se}});const We=(A,C,R)=>{if(A.length===0||C<=0)return 0;const Le=Math.floor(Date.now()/1e3)-30*24*60*60,we=A.filter(He=>parseInt(He.timestamp)>=Le&&(parseFloat(He.feesToVault0||"0")>0||parseFloat(He.feesToVault1||"0")>0));if(we.length===0)return 0;const ie=parseFloat((R==null?void 0:R.token0Price)||"0"),ve=parseFloat((R==null?void 0:R.token1Price)||"0");let ze=0;for(const He of we){const ht=parseFloat(He.feesToVault0||"0")/1e18,Nt=parseFloat(He.feesToVault1||"0")/1e18;ie>0&&ve>0?ze+=ht*ie+Nt*ve:ze+=ht+Nt*.15}const st=Math.min(...we.map(He=>parseInt(He.timestamp))),xt=Math.max(...we.map(He=>parseInt(He.timestamp))),kt=Math.max(1,(xt-st)/(24*60*60)),jt=ze/kt,nt=jt*365/C*100;return console.log("[fetchCharmStats] APY from collectFee:",{recentFeesCount:we.length,totalFeesUsd:ze.toFixed(2),timePeriodDays:kt.toFixed(2),avgDailyFees:jt.toFixed(2),apr:nt.toFixed(2)}),nt>0&&nt<1e3?nt:0},xe=A=>{for(const C of A)if(C.feeApr&&parseFloat(C.feeApr)>0&&!isNaN(parseFloat(C.feeApr))||C.annualVsHoldPerfSince&&C.annualVsHoldPerfSince!=="NaN"&&C.annualVsHoldPerfSince!==null&&!isNaN(parseFloat(C.annualVsHoldPerfSince)))return C;return A[0]},te=xe(ee),Q=xe(be);console.log("[fetchCharmStats] USD1 snapshot data:",te),console.log("[fetchCharmStats] WETH snapshot data:",Q);let $=0,ae=0,U=0,me=0;if(te){if(te.feeApr&&parseFloat(te.feeApr)>0){const A=parseFloat(te.feeApr);$=A<1?A*100:A,console.log("[fetchCharmStats] USD1 Fee APR from feeApr:",$,"raw:",A)}else if(te.annualVsHoldPerfSince&&te.annualVsHoldPerfSince!=="NaN"&&te.annualVsHoldPerfSince!==null&&!isNaN(parseFloat(te.annualVsHoldPerfSince))){const A=parseFloat(te.annualVsHoldPerfSince);A<1?(ae=A*100,$=ae/1.1):(ae=A,$=ae/1.1),console.log("[fetchCharmStats] USD1 APY from annualVsHoldPerfSince:",ae,"APR:",$)}else if(te.apy)ae=parseFloat(te.apy)*100,$=ae/1.1,console.log("[fetchCharmStats] USD1 APY from apy field:",ae);else if(te.feesApr&&parseFloat(te.feesApr)>0)$=parseFloat(te.feesApr)*100,console.log("[fetchCharmStats] USD1 Fee APR from feesApr:",$);else if(te.apr&&parseFloat(te.apr)>0)$=parseFloat(te.apr)*100,console.log("[fetchCharmStats] USD1 Fee APR from apr:",$);else if(te.feesUsd&&x>0){const A=parseFloat(te.feesUsd);$=A*365/x*100,console.log("[fetchCharmStats] USD1 Fee APR calculated from feesUsd:",$,"dailyFees:",A)}(isNaN($)||!isFinite($)||$<0)&&($=0),(isNaN(ae)||!isFinite(ae)||ae<0)&&(ae=0)}if(Q){if(Q.feeApr&&parseFloat(Q.feeApr)>0){const A=parseFloat(Q.feeApr);U=A<1?A*100:A,console.log("[fetchCharmStats] WETH Fee APR from feeApr:",U,"raw:",A)}else if(Q.annualVsHoldPerfSince&&Q.annualVsHoldPerfSince!=="NaN"&&Q.annualVsHoldPerfSince!==null&&!isNaN(parseFloat(Q.annualVsHoldPerfSince))){const A=parseFloat(Q.annualVsHoldPerfSince);A<1?(me=A*100,U=me/1.1):(me=A,U=me/1.1),console.log("[fetchCharmStats] WETH APY from annualVsHoldPerfSince:",me,"APR:",U)}else if(Q.apy)me=parseFloat(Q.apy)*100,U=me/1.1,console.log("[fetchCharmStats] WETH APY from apy field:",me);else if(Q.feesApr&&parseFloat(Q.feesApr)>0)U=parseFloat(Q.feesApr)*100,console.log("[fetchCharmStats] WETH Fee APR from feesApr:",U);else if(Q.apr&&parseFloat(Q.apr)>0)U=parseFloat(Q.apr)*100,console.log("[fetchCharmStats] WETH Fee APR from apr:",U);else if(Q.feesUsd&&N>0){const A=parseFloat(Q.feesUsd);U=A*365/N*100,console.log("[fetchCharmStats] WETH Fee APR calculated from feesUsd:",U,"dailyFees:",A)}(isNaN(U)||!isFinite(U)||U<0)&&(U=0),(isNaN(me)||!isFinite(me)||me<0)&&(me=0)}if($===0&&x>0&&fe.length>0){const A=We(fe,x,de.pool);A>0&&($=A,console.log("[fetchCharmStats] USD1 Fee APR from collectFee events:",$))}if(U===0&&N>0&&ye.length>0){const A=We(ye,N,re.pool);A>0&&(U=A,console.log("[fetchCharmStats] WETH Fee APR from collectFee events:",U))}if($===0&&x>0){const A=de.pool||{},C=parseFloat(A.token0Price||"0"),R=parseFloat(A.token1Price||"0");let se=0;if(C>0&&R>0?se=Ve/1e18*C+Pe/1e18*R:(Ve>0||Pe>0)&&(se=Ve/1e18+Pe/1e18*.15),se>0&&x>0){const ie=se/30*365/x*100;ie>0&&ie<1e3&&($=ie,console.log("[fetchCharmStats] USD1 Fee APR estimated from cumulative vault fees:",$))}}if(U===0&&N>0){const A=re.pool||{},C=parseFloat(A.token0Price||"0"),R=parseFloat(A.token1Price||"0");let se=0;if(C>0&&R>0?se=Ie/1e18*C+Se/1e18*R:(Ie>0||Se>0)&&(se=Ie/1e18*3e3+Se/1e18*.15),se>0&&N>0){const ie=se/30*365/N*100;ie>0&&ie<1e3&&(U=ie,console.log("[fetchCharmStats] WETH Fee APR estimated from cumulative vault fees:",U))}}$===0&&x>0&&($=10,console.log("[fetchCharmStats] Using estimated USD1 Fee APR:",$,"% (no historical data available)")),U===0&&N>0&&(U=10,console.log("[fetchCharmStats] Using estimated WETH Fee APR:",U,"% (no historical data available)")),ae>0&&$===0&&($=ae/1.1),me>0&&U===0&&(U=me/1.1),ae===0&&$>0&&(ae=_e($)),me===0&&U>0&&(me=_e(U)),console.log("[fetchCharmStats] Final values:",{usd1Apy:ae,wethApy:me,usd1FeeApr:$,wethFeeApr:U});let Be=0,je=0;const Me=x+N;if(console.log("[fetchCharmStats] TVL calculation:",{usd1StrategyTvl:x,wethStrategyTvl:N,totalTvl:Me}),Me>0&&!isNaN(Me)&&isFinite(Me))je=($*x+U*N)/Me,Be=(ae*x+me*N)/Me,console.log("[fetchCharmStats] Weighted by TVL:",{weightedApy:Be,weightedFeeApr:je});else if($>0||U>0){const A=[ae,me].filter(R=>R>0&&isFinite(R)),C=[$,U].filter(R=>R>0&&isFinite(R));console.log("[fetchCharmStats] Using fallback average:",{validApys:A,validFeeAprs:C}),C.length>0&&(je=C.reduce((R,se)=>R+se,0)/C.length),A.length>0&&(Be=A.reduce((R,se)=>R+se,0)/A.length),console.log("[fetchCharmStats] Fallback result:",{weightedApy:Be,weightedFeeApr:je})}else console.warn("[fetchCharmStats] No valid data: TVL is 0 and no Fee APR available");(isNaN(Be)||!isFinite(Be))&&(Be=0),(isNaN(je)||!isFinite(je))&&(je=0);const tt=je>0?_e(je):Be,Ke=tt>0?tt.toFixed(2):"0",Ne=Ke,Qe=je>0?je.toFixed(2):"0";console.log("[fetchCharmStats] Final result:",{weeklyApy:Ke,currentFeeApr:Qe,weightedApy:Be,weightedFeeApr:je});const at=ee.map(A=>({timestamp:parseInt(A.timestamp),feeApr:A.feeApr?(parseFloat(A.feeApr)*100).toFixed(2):"0",totalValue:parseFloat(A.totalAmount0||"0")+parseFloat(A.totalAmount1||"0")}));return{currentFeeApr:Qe,weeklyApy:Ke,monthlyApy:Ne,historicalSnapshots:at}}catch(I){return console.error("[fetchCharmStats] Error fetching Charm stats:",I),null}},[]),Ce=o.useCallback(async()=>{if(console.log("[VaultView] fetchData called",{provider:!!t,account:a}),!t){console.warn("[VaultView] No provider available");return}try{console.log("[VaultView] Starting data fetch...");const x=new H(h.VAULT,Lt,t),N=new H(h.WLFI,dt,t),I=new H(h.USD1,dt,t);let V=0n,q=0n,de=0n,re=0n;try{[q,de,re]=await Promise.all([x.totalSupply(),x.getWLFIPrice(),x.getUSD1Price()])}catch(C){throw console.error("[VaultView] Error fetching basic vault data:",C),C}try{V=await x.totalAssets(),console.log("[VaultView] totalAssets:",W(V))}catch(C){console.warn("[VaultView] totalAssets() failed (likely stale oracle), will calculate manually:",(C==null?void 0:C.reason)||(C==null?void 0:C.message)),V=0n}let ee="0",be="0",fe="0",ye="0",Ve="0",Pe="0",Ie="0",Se="0",We="0";const[xe,te]=await Promise.all([N.balanceOf(h.VAULT),I.balanceOf(h.VAULT)]);Pe=W(xe),Ie=W(te);let Q="0",$="0";console.log("[VaultView] ===== FETCHING USD1 STRATEGY DATA ====="),console.log("[VaultView] USD1 Strategy Address:",h.STRATEGY_USD1);try{const C=new H(h.STRATEGY_USD1,["function getTotalAmounts() external view returns (uint256 wlfiAmount, uint256 usd1Amount)"],t),[R,se]=await C.getTotalAmounts();$=Number(W(R)).toFixed(2),Q=Number(W(se)).toFixed(2);const Le=Number(W(R))*.132,we=Number(W(se));We=(Le+we).toFixed(2)}catch(C){console.error("Error fetching USD1 strategy balances:",C),We="0",Q="0",$="0"}let ae="0",U="0";console.log("[VaultView] ===== FETCHING WETH STRATEGY DATA ====="),console.log("[VaultView] WETH Strategy Address:",h.STRATEGY_WETH),console.log("[VaultView] WETH Charm Vault Address:",h.CHARM_VAULT_WETH);try{const C=new H(h.CHARM_VAULT_WETH,["function balanceOf(address) external view returns (uint256)","function totalSupply() external view returns (uint256)","function getTotalAmounts() external view returns (uint256 total0, uint256 total1)"],t),R=await C.balanceOf(h.STRATEGY_WETH);if(console.log("[VaultView] WETH strategy Charm shares:",W(R)),R>0n){const se=await C.totalSupply();let Le=0n,we=0n;try{const[ie,ve]=await C.getTotalAmounts();Le=ie,we=ve,console.log("[VaultView] Successfully fetched via getTotalAmounts()")}catch(ie){console.warn("[VaultView] getTotalAmounts() failed, trying direct token balance query:",(ie==null?void 0:ie.reason)||(ie==null?void 0:ie.message));try{const ve=new H(h.WETH,["function balanceOf(address) external view returns (uint256)"],t),ze=new H(h.WLFI,["function balanceOf(address) external view returns (uint256)"],t),[st,xt]=await Promise.all([ve.balanceOf(h.CHARM_VAULT_WETH),ze.balanceOf(h.CHARM_VAULT_WETH)]);Le=st,we=xt,console.log("[VaultView] Successfully fetched via direct token balances")}catch(ve){throw console.error("[VaultView] Direct token balance query also failed:",(ve==null?void 0:ve.reason)||(ve==null?void 0:ve.message)),ve}}if(se>0n&&(Le>0n||we>0n)){const ie=Le*R/se,ve=we*R/se;ae=Number(W(ie)).toFixed(4),U=Number(W(ve)).toFixed(2),console.log("[VaultView] ===== WETH STRATEGY DATA ====="),console.log("[VaultView] WETH amount:",ae),console.log("[VaultView] WLFI in pool amount:",U),console.log("[VaultView] Shares:",W(R)),console.log("[VaultView] Total WETH in vault:",W(Le)),console.log("[VaultView] Total WLFI in vault:",W(we)),console.log("[VaultView] ============================");const ze=Number(ae)*3500,st=Number(U)*.132;Se=(ze+st).toFixed(2)}else console.log("[VaultView] No assets in Charm vault or invalid share calculation")}else console.log("[VaultView] Strategy has no shares in Charm vault")}catch(C){console.warn("WETH strategy Charm vault query failed:",(C==null?void 0:C.reason)||(C==null?void 0:C.message)||C),Se="0",ae="0",U="0"}const me=Number(Pe)*.132,Be=Number(Ie),je=(me+Be).toFixed(2),Me=(Number(Se)+Number(We)).toFixed(2);if(console.log("[VaultView] ===== ALL STRATEGY BALANCES ====="),console.log("[VaultView] Vault Liquid WLFI:",Pe),console.log("[VaultView] Vault Liquid USD1:",Ie),console.log("[VaultView] USD1 Strategy Total:",We),console.log("[VaultView] WETH Strategy Total Value:",Se),console.log("[VaultView] WETH Strategy WETH Amount:",ae),console.log("[VaultView] WETH Strategy WLFI in Pool:",U),console.log("[VaultView] ==============================="),V===0n){const C=Number(je)+Number(Me);V=Ye(C.toFixed(18)),console.log("[VaultView] Calculated totalAssets manually (USD):",W(V))}const tt=Number(We)||0,Ke=Number(Se)||0;console.log("[VaultView] Fetching Charm stats with TVL:",{usd1StrategyTvl:tt,wethStrategyTvl:Ke});const Ne=await $e(tt,Ke);console.log("[VaultView] Charm stats result:",Ne);let Qe=null,at=null;try{const C=await fetch("/api/vault-stats");if(C.ok){const R=await C.json();if(R.success&&R.vaults&&R.vaults.length>0){const se=R.vaults[0];se.stats&&(Qe=se.stats.calculatedApr,at=se.stats.calculatedApy,console.log("[VaultView] Fetched APY from vault-stats API:",{calculatedApr:Qe,calculatedApy:at}))}}}catch(C){console.warn("[VaultView] Failed to fetch vault stats API:",C)}if(a){const[C,R,se,Le]=await Promise.all([x.balanceOf(K),N.balanceOf(K),I.balanceOf(K),x.maxRedeem(K)]);if(ee=W(C),be=W(R),fe=W(se),Ve=W(Le),Number(q)>0){const we=Number(W(V))/Number(W(q));ye=(Number(ee)*we).toFixed(2)}}const A={...g,totalAssets:W(V),totalSupply:W(q),userBalance:ee,wlfiBalance:be,usd1Balance:fe,wlfiPrice:Number(W(de)).toFixed(3),usd1Price:Number(W(re)).toFixed(3),userBalanceUSD:ye,maxRedeemable:Ve,vaultLiquidWLFI:Pe,vaultLiquidUSD1:Ie,strategyWLFI:Se,strategyUSD1:We,strategyWETH:ae,strategyWLFIinPool:U,strategyUSD1InPool:Q,strategyWLFIinUSD1Pool:$,liquidTotal:je,strategyTotal:Me,currentFeeApr:(Ne==null?void 0:Ne.currentFeeApr)||"0",weeklyApy:(Ne==null?void 0:Ne.weeklyApy)||"0",monthlyApy:(Ne==null?void 0:Ne.monthlyApy)||"0",historicalSnapshots:(Ne==null?void 0:Ne.historicalSnapshots)||[],calculatedApr:Qe,calculatedApy:at};console.log("[VaultView] Setting new data:",{...A,strategyWETH_check:ae,strategyWLFI_check:Se,strategyUSD1_check:We}),Fe(A),E({currentFeeApr:A.currentFeeApr,weeklyApy:A.weeklyApy,monthlyApy:A.monthlyApy,historicalSnapshots:A.historicalSnapshots,calculatedApr:A.calculatedApr,calculatedApy:A.calculatedApy,liquidTotal:A.liquidTotal,strategyTotal:A.strategyTotal}),console.log("[VaultView] Data fetch complete!")}catch(x){console.error("[VaultView] Error fetching data:",x)}},[t,a,$e]),D=o.useCallback(async()=>{y(!0),await Ce(),setTimeout(()=>y(!1),500)},[Ce]),X=o.useCallback(async()=>{var x;if(!t||!a){s({message:"Connect wallet first",type:"error"});return}try{const N=await t.getSigner(),I=new H(h.VAULT,["function syncBalances()"],N);s({message:"Syncing vault balances...",type:"info"});const V=await I.syncBalances();await V.wait(),s({message:" Balances synced! Refreshing data...",type:"success",txHash:V.hash}),setTimeout(()=>{Ce()},2e3)}catch(N){console.error("Sync error:",N);let I="Sync failed";(x=N.message)!=null&&x.includes("onlyManager")?I="Only the vault manager can sync balances":N.message&&(I=N.message.slice(0,100)),s({message:I,type:"error"})}},[t,a,s,Ce]);o.useEffect(()=>{Ce();const x=setInterval(Ce,15e3);return()=>clearInterval(x)},[Ce]),o.useEffect(()=>{(async()=>{if(!t||!F||Number(F)<=0){Fe(N=>({...N,expectedWithdrawWLFI:"0",expectedWithdrawUSD1:"0"}));return}try{const N=new H(h.VAULT,Lt,t),I=new H(h.WLFI,dt,t),V=new H(h.USD1,dt,t),[q,de,re]=await Promise.all([N.totalSupply(),I.balanceOf(h.VAULT),V.balanceOf(h.VAULT)]);let ee=0n,be=0n,fe=0n;try{const xe=new H(h.STRATEGY_USD1,["function getTotalAmounts() external view returns (uint256 wlfiAmount, uint256 usd1Amount)"],t),[te,Q]=await xe.getTotalAmounts();ee=te,be=Q}catch(xe){console.error("Error fetching USD1 strategy balances for withdrawal calc:",xe)}try{const xe=new H(h.STRATEGY_WETH,["function getTotalAmounts() external view returns (uint256 wlfiAmount, uint256 usd1Amount)"],t),[te]=await xe.getTotalAmounts();ee=ee+te}catch(xe){console.warn("WETH strategy getTotalAmounts() failed in withdrawal calc:",(xe==null?void 0:xe.reason)||(xe==null?void 0:xe.message));try{const Q=await new H(h.WLFI,["function balanceOf(address) external view returns (uint256)"],t).balanceOf(h.STRATEGY_WETH);ee=ee+Q}catch{}}const ye=Number(W(q)),Ve=Number(W(de))+Number(W(ee)),Pe=Number(W(re))+Number(W(be)),Ie=Number(F)/ye,Se=(Ve*Ie).toFixed(4),We=(Pe*Ie).toFixed(4);Fe(xe=>({...xe,expectedWithdrawWLFI:Se,expectedWithdrawUSD1:We}))}catch(N){console.error("Error calculating withdrawal:",N)}})()},[t,F]);const M=o.useCallback(async()=>{if(!t||!P&&!J){G(null);return}try{const x=new H(h.VAULT,["function previewCapitalInjection(uint256 wlfiAmount, uint256 usd1Amount) external view returns (uint256 newShareValue, uint256 valueIncrease, uint256 percentageIncrease)"],t),N=P?Ye(P):0n,I=J?Ye(J):0n,[V,q,de]=await x.previewCapitalInjection(N,I);G({newShareValue:W(V),valueIncrease:W(q),percentageIncrease:(Number(de)/100).toFixed(2)})}catch(x){console.error("Error previewing injection:",x),G(null)}},[t,P,J]),pe=async()=>{if(!t||!a||!P&&!J){s({message:"Please enter WLFI and/or USD1 amount",type:"error"});return}if(!ue){s({message:"Only the multisig admin can execute capital injections",type:"error"});return}B(!0);try{const x=await t.getSigner(),N=new H(h.VAULT,["function injectCapital(uint256 wlfiAmount, uint256 usd1Amount) external","function balanceOf(address) external view returns (uint256)"],x),I=P&&parseFloat(P)>0?Ye(P):0n,V=J&&parseFloat(J)>0?Ye(J):0n;if(console.log("[VaultView] Injecting capital:",{wlfiWei:I.toString(),usd1Wei:V.toString()}),I>0n){const re=new H(h.WLFI,["function approve(address spender, uint256 amount) external returns (bool)","function allowance(address owner, address spender) external view returns (uint256)","function balanceOf(address) external view returns (uint256)"],x),ee=await re.balanceOf(K);if(console.log("[VaultView] WLFI balance:",W(ee),"Required:",W(I)),ee<I){s({message:`Insufficient WLFI balance. You have ${W(ee)} but need ${W(I)}`,type:"error"}),B(!1);return}const be=await re.allowance(K,h.VAULT);if(console.log("[VaultView] WLFI allowance:",W(be)),BigInt(be.toString())<I){s({message:"Approving WLFI...",type:"info"});const fe=await re.approve(h.VAULT,I);console.log("[VaultView] WLFI approve tx:",fe.hash),await fe.wait(),s({message:"WLFI approved!",type:"success",txHash:fe.hash})}}if(V>0n){const re=new H(h.USD1,["function approve(address spender, uint256 amount) external returns (bool)","function allowance(address owner, address spender) external view returns (uint256)","function balanceOf(address) external view returns (uint256)"],x),ee=await re.balanceOf(K);if(console.log("[VaultView] USD1 balance:",W(ee),"Required:",W(V)),ee<V){s({message:`Insufficient USD1 balance. You have ${W(ee)} but need ${W(V)}`,type:"error"}),B(!1);return}const be=await re.allowance(K,h.VAULT);if(console.log("[VaultView] USD1 allowance:",W(be)),BigInt(be.toString())<V){s({message:"Approving USD1...",type:"info"});const fe=await re.approve(h.VAULT,V);console.log("[VaultView] USD1 approve tx:",fe.hash),await fe.wait(),s({message:"USD1 approved!",type:"success",txHash:fe.hash})}}s({message:"Injecting capital into vault...",type:"info"}),console.log("[VaultView] Calling injectCapital with:",{wlfiWei:I.toString(),usd1Wei:V.toString()});const q=await N.injectCapital(I,V);console.log("[VaultView] Inject capital tx:",q.hash),s({message:"Transaction submitted...",type:"info",txHash:q.hash});const de=await q.wait();console.log("[VaultView] Inject capital receipt:",de),s({message:` Successfully injected ${P||"0"} WLFI + ${J||"0"} USD1!`,type:"success",txHash:q.hash}),ce(""),O(""),G(null),await Ce()}catch(x){console.error("[VaultView] Inject capital error:",x);let N="Capital injection failed";x.code==="ACTION_REJECTED"||x.code===4001?N="Transaction rejected by user":x.reason?N=`Error: ${x.reason}`:x.message&&(x.message.includes("insufficient funds")?N="Insufficient funds for transaction":x.message.includes("user rejected")?N="Transaction rejected by user":x.message.includes("ERC20")?N="Token transfer failed - check balance and allowance":N=x.message.slice(0,150)),s({message:N,type:"error"})}finally{B(!1)}},[Ee,T]=o.useState(!1),ne=async()=>{if(!t||!a){s({message:"Connect wallet first",type:"error"});return}if(!ue){s({message:"Admin only function",type:"error"});return}T(!0);try{const x=await t.getSigner(),N=new H(h.VAULT,["function forceDeployToStrategy() external"],x);console.log("[VaultView] Deploying assets to strategy..."),s({message:"Deploying assets to strategy...",type:"info"});const I=await N.forceDeployToStrategy();console.log("[VaultView] Deploy to strategy tx:",I.hash),s({message:"Transaction submitted...",type:"info",txHash:I.hash});const V=await I.wait();console.log("[VaultView] Deploy to strategy receipt:",V),s({message:" Successfully deployed assets to strategy!",type:"success",txHash:I.hash}),await Ce()}catch(x){console.error("[VaultView] Deploy to strategy error:",x);let N="Deploy to strategy failed";x.code==="ACTION_REJECTED"||x.code===4001?N="Transaction rejected by user":x.reason?N=`Error: ${x.reason}`:x.message&&(N=x.message.slice(0,150)),s({message:N,type:"error"})}finally{T(!1)}};return o.useEffect(()=>{M()},[M]),e.jsx("div",{className:"bg-gradient-to-br from-gray-50 via-gray-100 to-gray-50 dark:from-gray-900 dark:via-black dark:to-gray-900 min-h-screen pb-24 transition-colors",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-3 sm:px-6 pt-4 sm:pt-6 pb-16 sm:pb-24",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[e.jsx(Te,{label:"Total deposited",value:`$${(Number(g.liquidTotal)+Number(g.strategyTotal)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,subtitle:(()=>{const x=Number(g.vaultLiquidWLFI)+Number(g.strategyWLFIinUSD1Pool)+Number(g.strategyWLFIinPool),N=Number(g.vaultLiquidUSD1)+Number(g.strategyUSD1InPool);return`${x.toFixed(2)} WLFI + ${N.toFixed(2)} USD1`})()}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>p==null?void 0:p(),className:"w-full text-left transition-all hover:scale-[1.02] active:scale-[0.98]",children:e.jsx(Te,{label:"Current APY",value:g.calculatedApy&&g.calculatedApy>0?`${g.calculatedApy.toFixed(2)}%`:g.calculatedApr&&g.calculatedApr>0?`${g.calculatedApr.toFixed(2)}%`:g.weeklyApy==="calculating"?"":g.weeklyApy&&g.weeklyApy!=="0"&&g.weeklyApy!=="NaN"&&!isNaN(parseFloat(g.weeklyApy))?`${g.weeklyApy}%`:g.currentFeeApr&&g.currentFeeApr!=="0"&&g.currentFeeApr!=="NaN"&&!isNaN(parseFloat(g.currentFeeApr))?`${g.currentFeeApr}% APR`:"N/A",highlighted:!0,subtitle:g.calculatedApy&&g.calculatedApy>0?"APY (from Analytics)":g.calculatedApr&&g.calculatedApr>0?"APR (from Analytics)":g.weeklyApy==="calculating"?"New vault - APY calculating...":g.weeklyApy&&g.weeklyApy!=="0"&&g.weeklyApy!=="NaN"&&!isNaN(parseFloat(g.weeklyApy))?"Weighted Avg. (TVL)":g.currentFeeApr&&g.currentFeeApr!=="0"&&g.currentFeeApr!=="NaN"&&!isNaN(parseFloat(g.currentFeeApr))?"Fee APR (from Charm)":"Loading..."})}),e.jsxs("button",{onClick:()=>p==null?void 0:p(),className:"absolute top-3 right-3 flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all bg-[#D4B474]/10 text-[#D4B474] hover:bg-[#D4B474]/20 hover:scale-105 active:scale-95",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e.jsx("span",{className:"hidden sm:inline",children:"Analytics"})]})]}),e.jsx(Te,{label:"Circulating / Max Supply",value:`${Number(g.totalSupply).toLocaleString(void 0,{maximumFractionDigits:0})} / 50M`,subtitle:(()=>{const x=Number(g.vaultLiquidWLFI)+Number(g.strategyWLFIinUSD1Pool)+Number(g.strategyWLFIinPool),N=Number(g.totalSupply);return`Ratio: ${N>0?(x/N).toFixed(4):"0.0000"} WLFI / EAGLE`})()})]}),e.jsxs("div",{className:"flex flex-col gap-4 sm:gap-6",children:[e.jsx("div",{children:e.jsxs(qe,{className:"!p-0",children:[e.jsx("div",{className:`px-3 sm:px-4 py-3 sm:py-4 border-b ${Z.borders.separator}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:`w-6 h-6 sm:w-7 sm:h-7 ${Z.backgrounds.highlight} ${Z.radius.full} flex items-center justify-center shrink-0 ${Z.shadows.raised}`,children:e.jsx("svg",{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${Z.text.highlight}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:`${Z.text.h3} leading-tight`,children:"ERC-4626 Vault"}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:["Deposit ",e.jsx("span",{className:"text-[#A27D46] dark:text-[#D4B474] font-semibold",children:"WLFI"})," or ",e.jsx("span",{className:"text-[#A27D46] dark:text-[#D4B474] font-semibold",children:"USD1"})," for auto-compounding yield"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{onClick:D,disabled:u,label:"",icon:e.jsx("svg",{className:`w-3 h-3 sm:w-4 sm:h-4 ${u?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),className:"!px-2 sm:!px-2.5 !py-1.5 !w-auto !rounded-full"}),e.jsxs("div",{className:`flex items-center gap-1.5 px-2.5 py-1.5 bg-gradient-to-br from-emerald-50 to-emerald-100/50 dark:from-gray-800 dark:to-gray-850 ${Z.radius.full} ${Z.shadows.raised} border border-emerald-200/70 dark:border-emerald-700/50`,children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),e.jsx("img",{src:oe.ETHEREUM,alt:"Ethereum",className:"w-4 h-4 rounded-full"}),e.jsx("span",{className:"text-xs text-gray-800 dark:text-gray-200 font-semibold hidden sm:inline",children:"Ethereum"})]})]})]})}),e.jsx("div",{className:"px-4 sm:px-6 pt-4 pb-2",children:e.jsx(vt,{tabs:[{id:"vault",label:"Assets"},{id:"strategies",label:"Strategies"}],defaultTab:c,onChange:x=>f(x)})}),e.jsxs("div",{className:"p-4 sm:p-6",children:[c==="vault"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ta,{vaultWLFI:Number(g.vaultLiquidWLFI),vaultUSD1:Number(g.vaultLiquidUSD1),strategyWLFI:Number(g.strategyWLFI),strategyUSD1:Number(g.strategyUSD1),wlfiPrice:Number(g.wlfiPrice),strategyWETH:Number(g.strategyWETH),strategyWLFIinPool:Number(g.strategyWLFIinPool),strategyUSD1InPool:Number(g.strategyUSD1InPool),strategyWLFIinUSD1Pool:Number(g.strategyWLFIinUSD1Pool)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Assets"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 dark:bg-gray-900/30 rounded-lg px-3 py-2.5 border border-gray-200/50 dark:border-gray-700/30",children:[e.jsx(Re,{symbol:"WLFI",address:h.WLFI,className:"w-8 h-8 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white mb-0.5",children:"WLFI"}),e.jsx("a",{href:`https://etherscan.io/token/${h.WLFI}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-gray-600 dark:text-gray-400 hover:text-[#A27D46] dark:hover:text-[#D4B474] font-mono transition-colors truncate block",title:h.WLFI,children:h.WLFI})]}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(h.WLFI),s({message:"WLFI address copied!",type:"success"})},className:"shrink-0 p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",title:"Copy address",children:e.jsx("svg",{className:"w-3.5 h-3.5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 dark:bg-gray-900/30 rounded-lg px-3 py-2.5 border border-gray-200/50 dark:border-gray-700/30",children:[e.jsx(Re,{symbol:"USD1",address:h.USD1,className:"w-8 h-8 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white mb-0.5",children:"USD1"}),e.jsx("a",{href:`https://etherscan.io/token/${h.USD1}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-gray-600 dark:text-gray-400 hover:text-[#A27D46] dark:hover:text-[#D4B474] font-mono transition-colors truncate block",title:h.USD1,children:h.USD1})]}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(h.USD1),s({message:"USD1 address copied!",type:"success"})},className:"shrink-0 p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",title:"Copy address",children:e.jsx("svg",{className:"w-3.5 h-3.5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 dark:bg-gray-900/30 rounded-lg px-3 py-2.5 border border-gray-200/50 dark:border-gray-700/30",children:[e.jsx(Re,{symbol:"WETH",address:h.WETH,className:"w-8 h-8 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white mb-0.5",children:"WETH"}),e.jsx("a",{href:`https://etherscan.io/token/${h.WETH}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-gray-600 dark:text-gray-400 hover:text-[#A27D46] dark:hover:text-[#D4B474] font-mono transition-colors truncate block",title:h.WETH,children:h.WETH})]}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(h.WETH),s({message:"WETH address copied!",type:"success"})},className:"shrink-0 p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",title:"Copy address",children:e.jsx("svg",{className:"w-3.5 h-3.5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]})]})]})}),c==="strategies"&&e.jsx("div",{className:"space-y-5",children:(()=>{const x=Number(g.strategyTotal)||1,N=Number(g.strategyUSD1)||0,I=Number(g.strategyWLFI)||0,V=x>0?(N/x*100).toFixed(1):"0.0",q=x>0?(I/x*100).toFixed(1):"0.0";return[{id:1,name:"Charm USD1/WLFI Alpha Vault",protocol:"Charm Finance",pool:"USD1/WLFI",feeTier:"1%",allocation:`${V}%`,status:"active",description:"Actively managed concentrated liquidity position on Uniswap V3, optimized for the USD1/WLFI 1% fee tier pool.",analytics:"https://alpha.charm.fi/vault/1/0x47b2f57fb48177c02e9e219ad4f4e42d5f4f1a0c",revertAnalytics:"https://revert.finance/#/pool/mainnet/uniswapv3/0xf9f5e6f7a44ee10c72e67bded6654afaf4d0c85d",contract:"0x47B2659747d6A7E00c8251c3C3f7e92625a8cf6f",charmVault:"0x22828Dbf15f5FBa2394Ba7Cf8fA9A96BdB444B71",uniswapPool:"0xf9f5E6f7A44Ee10c72E67Bded6654afAf4D0c85d",deployed:g.strategyUSD1,usd1Amount:g.strategyUSD1InPool,wlfiAmount:g.strategyWLFIinUSD1Pool},{id:2,name:"Charm WETH/WLFI Alpha Vault",protocol:"Charm Finance",pool:"WETH/WLFI",feeTier:"1%",allocation:`${q}%`,status:"active",description:"Actively managed concentrated liquidity position on Uniswap V3, optimized for the WETH/WLFI 1% fee tier pool. Features 24-hour oracle support for stable operations.",analytics:"https://alpha.charm.fi/vault/1/0x3314e248F3F752Cd16939773D83bEb3a362F0AEF",contract:h.STRATEGY_WETH,charmVault:h.CHARM_VAULT_WETH,uniswapPool:h.UNISWAP_V3_POOL_WETH_1PCT,deployed:g.strategyWLFI,wethAmount:g.strategyWETH,wlfiAmount:g.strategyWLFIinPool},{id:3,name:"Additional Strategies",protocol:"Coming Soon",description:"More yield optimization strategies are in development. Stay tuned for announcements about additional DeFi integrations and liquidity opportunities.",status:"coming-soon",allocation:"TBD"}]})().map(x=>e.jsx(Ra,{strategy:x,wlfiPrice:g.wlfiPrice,revertData:Ae,onToast:s},x.id))})]})]})}),e.jsx("div",{children:e.jsxs(qe,{className:"!p-0 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-3 right-3 z-20",children:e.jsxs("button",{onClick:()=>b(j==="user"?"admin":"user"),className:`group relative flex items-center gap-2 px-4 py-2 ${Z.radius.full} text-xs font-semibold ${Z.transitions.default}
                      ${Z.backgrounds.highlight} ${Z.shadows.raised} ${Z.shadows.raisedHover}
                      ${Z.text.highlight} ${Z.interactive.hover} ${Z.interactive.active}`,title:`Switch to ${j==="user"?"Admin":"User"} Mode`,children:[e.jsx("svg",{className:"w-4 h-4 transition-transform duration-300 group-hover:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),e.jsx("span",{children:j==="user"?"Switch to Admin":"Switch to User"})]})}),j==="user"&&e.jsx("div",{className:`px-3 sm:px-4 py-3 sm:py-4 border-b ${Z.borders.separator}`,children:e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:`w-6 h-6 sm:w-7 sm:h-7 ${Z.backgrounds.highlight} ${Z.radius.full} flex items-center justify-center shrink-0 ${Z.shadows.raised}`,children:e.jsx("svg",{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${Z.text.highlight}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("h3",{className:`${Z.text.h3} leading-tight`,children:"User Controls"})]})}),j==="admin"&&e.jsx("div",{className:`px-3 sm:px-4 py-3 sm:py-4 border-b ${Z.borders.separator}`,children:e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:`w-6 h-6 sm:w-7 sm:h-7 ${Z.backgrounds.highlight} ${Z.radius.full} flex items-center justify-center shrink-0 ${Z.shadows.raised}`,children:e.jsx("svg",{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${Z.text.highlight}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx("h3",{className:`${Z.text.h3} leading-tight`,children:"Admin Controls"})}),ue&&e.jsx("div",{className:"px-2.5 py-1 bg-green-100 dark:bg-green-900/30 rounded-lg text-[10px] font-semibold text-green-700 dark:text-green-400 shrink-0",children:"ADMIN"})]})}),j==="user"&&e.jsx("div",{className:"p-4 sm:p-6",children:e.jsx(Pa,{})}),j==="admin"&&e.jsxs("div",{className:"p-4 sm:p-6 space-y-3 sm:space-y-4",children:[e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700/30 rounded-xl p-2.5 sm:p-3",children:e.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-300",children:[e.jsx("strong",{children:" Info:"})," Visible to all for transparency. Only multisig admin (",h.MULTISIG.slice(0,6),"...",h.MULTISIG.slice(-4),") can execute. Open from Safe wallet to use."]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Sync Balances"}),e.jsx(De,{onClick:X,label:"Sync Balances",className:"w-full !py-2.5",icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Capital Injection"}),e.jsxs("div",{className:"group relative",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400 dark:text-gray-500 hover:text-[#A27D46] dark:hover:text-[#D4B474] cursor-help transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 hidden group-hover:block z-50 w-64",children:e.jsxs("div",{className:"bg-gray-900 dark:bg-gray-700 text-white text-xs rounded-lg p-3 shadow-xl",children:[e.jsx("p",{className:"font-semibold mb-1",children:" Capital Injection"}),e.jsx("p",{children:"Inject capital to boost share value without minting new shares. Increases value for all existing holders."}),e.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900 dark:border-t-gray-700"})]})})]})]}),e.jsx(ut,{type:"number",value:P,onChange:ce,placeholder:"0",label:"WLFI to Inject"}),e.jsx(ut,{type:"number",value:J,onChange:O,placeholder:"0",label:"USD1 to Inject"}),Y&&(P||J)&&e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border border-green-200 dark:border-green-700/30 rounded-xl p-3 sm:p-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("p",{className:"text-xs font-bold text-green-800 dark:text-green-300 uppercase",children:"Impact Preview"})]}),e.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Share Value Increase:"}),e.jsxs("span",{className:"font-bold text-green-600 dark:text-green-400",children:["+",Y.percentageIncrease,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-500",children:[e.jsx("span",{children:"New Share Value:"}),e.jsxs("span",{children:[Number(Y.newShareValue).toFixed(6)," WLFI"]})]})]}),e.jsx(De,{label:_?"Injecting...":ue?"Inject Capital":"Admin Only",onClick:pe,className:"w-full !py-3 sm:!py-4 !text-sm sm:!text-base !bg-gradient-to-r !from-red-500 !to-red-600 dark:!from-red-600 dark:!to-red-700 !text-white disabled:!opacity-50 disabled:!cursor-not-allowed",disabled:_||!a||!P&&!J||!ue,icon:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]}),e.jsx("div",{className:"border-t border-gray-300/50 dark:border-gray-700/30 my-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Deploy Assets"}),e.jsxs("div",{className:"group relative",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400 dark:text-gray-500 hover:text-orange-600 dark:hover:text-orange-400 cursor-help transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 hidden group-hover:block z-50 w-64",children:e.jsxs("div",{className:"bg-gray-900 dark:bg-gray-700 text-white text-xs rounded-lg p-3 shadow-xl",children:[e.jsx("p",{className:"font-semibold mb-1",children:" Deploy Assets"}),e.jsx("p",{children:"Force deploy idle vault assets to active strategies. Use when vault has undeployed capital waiting to be put to work."}),e.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900 dark:border-t-gray-700"})]})})]})]}),e.jsx(De,{label:Ee?"Deploying...":ue?"Deploy Assets to Strategy":"Admin Only",onClick:ne,className:"w-full !py-3 sm:!py-4 !text-sm sm:!text-base !bg-gradient-to-r !from-orange-500 !to-orange-600 dark:!from-orange-600 dark:!to-orange-700 !text-white disabled:!opacity-50 disabled:!cursor-not-allowed",disabled:Ee||!a||!ue,icon:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})})]}),ue&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/30 rounded-xl p-2.5 sm:p-3",children:e.jsxs("p",{className:"text-xs text-red-800 dark:text-red-300",children:[e.jsx("strong",{children:" Admin only:"})," These actions execute immediately. Verify amounts before confirming."]})})]})]})})]})]})})}function Ma({onNavigateDown:t,onNavigateToCrossChain:a}){const[s,l]=o.useState({liquidity:"$6.6K",volume24h:"$14.8K",priceChange24h:"-32.2%",priceUsd:"$0.00537",fdv:"$268.5K",apr:"~820%"}),[r,n]=o.useState(!1),[p,c]=o.useState(new Date),f=async()=>{var k,m,w;try{n(!0);const F=await(await fetch("https://api.dexscreener.com/latest/dex/pairs/ethereum/0xcf728b099b672c72d61f6ec4c4928c2f2a96cefdfd518c3470519d76545ed333")).json();if(F!=null&&F.pair){const i=F.pair,j=parseFloat(((k=i.liquidity)==null?void 0:k.usd)||0),b=parseFloat(((m=i.volume)==null?void 0:m.h24)||0),L=parseFloat(i.priceUsd||0),v=parseFloat(((w=i.priceChange)==null?void 0:w.h24)||0),u=parseFloat(i.fdv||0),y=j>0?b*365*.003/j*100:0;l({liquidity:j>=1e3?`$${(j/1e3).toFixed(1)}K`:`$${j.toFixed(2)}`,volume24h:b>=1e3?`$${(b/1e3).toFixed(1)}K`:`$${b.toFixed(2)}`,priceChange24h:`${v>0?"+":""}${v.toFixed(1)}%`,priceUsd:`$${L.toFixed(5)}`,fdv:u>=1e3?`$${(u/1e3).toFixed(1)}K`:`$${u.toFixed(2)}`,apr:`~${y.toFixed(0)}%`}),c(new Date)}}catch(S){console.error("Error fetching pool data:",S)}finally{n(!1)}};return o.useEffect(()=>{f();const k=setInterval(()=>{f()},3e4);return()=>clearInterval(k)},[]),e.jsx("div",{className:"h-full overflow-y-auto bg-gradient-to-br from-gray-50 via-gray-100 to-gray-50 dark:from-gray-900 dark:via-gray-850 dark:to-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8 md:py-12 max-w-7xl",children:[e.jsx("div",{className:"mb-4 sm:mb-6",children:e.jsx(De,{onClick:t,label:"Back to Home",icon:e.jsx(Ht,{className:"w-4 h-4"})})}),e.jsxs(d.div,{className:"mb-6 sm:mb-8 md:mb-12",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},children:[e.jsx("div",{className:"flex items-center gap-2.5 sm:gap-3 md:gap-4 mb-4 sm:mb-5 md:mb-6",children:e.jsxs("div",{className:"flex items-center gap-2.5 sm:gap-3 md:gap-4",children:[e.jsxs(d.div,{className:"relative",whileHover:{scale:1.05,rotate:5},transition:{type:"spring",stiffness:400,damping:17},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-400/20 to-orange-400/20 rounded-xl sm:rounded-2xl blur-lg sm:blur-xl"}),e.jsx("div",{className:"relative bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-850 p-2 sm:p-2.5 md:p-3 rounded-xl sm:rounded-2xl shadow-neo-raised dark:shadow-neo-raised-dark border border-gray-200/50 dark:border-gray-600/50",children:e.jsx("img",{src:oe.EAGLE,alt:"Eagle",className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12"})})]}),e.jsx("span",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-400 dark:text-gray-500",children:"+"}),e.jsxs(d.div,{className:"relative",whileHover:{scale:1.05,rotate:-5},transition:{type:"spring",stiffness:400,damping:17},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/20 to-orange-400/20 rounded-xl sm:rounded-2xl blur-lg sm:blur-xl"}),e.jsx("div",{className:"relative bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-850 p-2 sm:p-2.5 md:p-3 rounded-xl sm:rounded-2xl shadow-neo-raised dark:shadow-neo-raised-dark border border-gray-200/50 dark:border-gray-600/50",children:e.jsx("img",{src:oe.ETHEREUM,alt:"ETH",className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 rounded-full"})})]})]})}),e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 dark:from-gray-100 dark:via-white dark:to-gray-100 bg-clip-text text-transparent mb-2 sm:mb-3 md:mb-4",children:"EAGLE/ETH Liquidity Pool"}),e.jsx("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl text-gray-600 dark:text-gray-400",children:"Provide liquidity, earn trading fees, and support the Eagle ecosystem"})]}),e.jsxs(d.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 md:gap-6 mb-6 sm:mb-8 md:mb-12",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[e.jsx(Te,{label:"Total Liquidity",value:s.liquidity,subtitle:r?"Updating...":"Live on Uniswap V4"}),e.jsx(Te,{label:"24h Volume",value:s.volume24h,subtitle:s.priceChange24h}),e.jsx(Te,{label:"Estimated APR",value:s.apr,subtitle:"Based on 24h volume",highlighted:!0}),e.jsx(Te,{label:"EAGLE Price",value:s.priceUsd,subtitle:`FDV: ${s.fdv}`})]}),e.jsxs("div",{className:"flex justify-end items-center gap-1.5 sm:gap-2 mb-4 sm:mb-5 md:mb-6 text-[10px] sm:text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(d.div,{animate:{rotate:r?360:0},transition:{duration:1,repeat:r?1/0:0,ease:"linear"},children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),e.jsx("span",{children:r?"Updating...":`Updated ${p.toLocaleTimeString()}`})]}),e.jsx(d.div,{className:"mb-4 sm:mb-6 md:mb-8",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center sm:justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-2.5 md:gap-3 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-3 md:px-4 py-1.5 sm:py-2 bg-white dark:bg-gray-800 rounded-full shadow-neo-inset dark:shadow-neo-inset-dark border border-gray-200/50 dark:border-gray-600/50",children:[e.jsx("img",{src:oe.UNISWAP,alt:"Uniswap",className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"text-xs sm:text-sm font-bold text-pink-600 dark:text-pink-400",children:"V4"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-3 md:px-4 py-1.5 sm:py-2 bg-white dark:bg-gray-800 rounded-full shadow-neo-inset dark:shadow-neo-inset-dark border border-gray-200/50 dark:border-gray-600/50",children:[e.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-gray-400",children:"Fee:"}),e.jsx("span",{className:"text-xs sm:text-sm font-bold text-orange-600 dark:text-orange-400",children:"2%"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-3 md:px-4 py-1.5 sm:py-2 bg-white dark:bg-gray-800 rounded-full shadow-neo-inset dark:shadow-neo-inset-dark border border-gray-200/50 dark:border-gray-600/50",children:[e.jsx("img",{src:oe.ETHEREUM,alt:"Ethereum",className:"w-4 h-4 sm:w-5 sm:h-5 rounded-full"}),e.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Ethereum"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-3 py-1.5 sm:py-2 bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 rounded-full shadow-neo-raised dark:shadow-neo-raised-dark border border-emerald-200 dark:border-emerald-700",children:[e.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-emerald-500 dark:bg-emerald-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs sm:text-sm font-bold text-emerald-700 dark:text-emerald-300",children:"LIVE"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-2.5 md:gap-3 w-full sm:w-auto",children:[e.jsxs("a",{href:"https://dexscreener.com/ethereum/0xcf728b099b672c72d61f6ec4c4928c2f2a96cefdfd518c3470519d76545ed333",target:"_blank",rel:"noopener noreferrer",className:"flex-1 sm:flex-none px-3 sm:px-4 py-1.5 sm:py-2 bg-gray-900 dark:bg-gray-800 hover:bg-gray-800 dark:hover:bg-gray-700 active:bg-gray-950 dark:active:bg-gray-900 text-white text-xs sm:text-sm font-semibold rounded-full shadow-neo-raised dark:shadow-neo-raised-dark transition-all duration-300 flex items-center justify-center gap-1.5 sm:gap-2 touch-manipulation",children:[e.jsx("img",{src:"https://dexscreener.com/icon-192x192.png",alt:"DexScreener",className:"w-3.5 h-3.5 sm:w-4 sm:h-4 rounded"}),e.jsx("span",{className:"hidden sm:inline",children:"DexScreener"}),e.jsx("span",{className:"sm:hidden",children:"DEX"})]}),e.jsxs("a",{href:"https://t.me/Eagle_community_47",target:"_blank",rel:"noopener noreferrer",className:"flex-1 sm:flex-none px-3 sm:px-4 py-1.5 sm:py-2 bg-gradient-to-r from-[#229ED9] to-[#0088cc] hover:from-[#0088cc] hover:to-[#006699] active:from-[#007BB3] active:to-[#005580] text-white text-xs sm:text-sm font-semibold rounded-full shadow-neo-raised dark:shadow-neo-raised-dark transition-all duration-300 flex items-center justify-center gap-1.5 sm:gap-2 touch-manipulation",children:[e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"})}),e.jsx("span",{children:"Telegram"})]})]})]})}),e.jsx(d.div,{className:"mb-6 sm:mb-8 md:mb-12",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:e.jsxs(qe,{className:"!p-0 overflow-hidden",children:[e.jsx("div",{className:"p-3 sm:p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2 sm:gap-3",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-600 dark:text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Live Price Chart"]})}),e.jsx("div",{className:"relative w-full h-64 sm:h-80 md:h-96 lg:h-[500px]",children:e.jsx("iframe",{src:"https://dexscreener.com/ethereum/0xcf728b099b672c72d61f6ec4c4928c2f2a96cefdfd518c3470519d76545ed333?embed=1&theme=dark&trades=0&info=0",className:"w-full h-full border-0",title:"DexScreener Chart",allow:"clipboard-write"})})]})})]})})}const ft=["function wrap(uint256 shares) external","function unwrap(uint256 tokens) external","function totalLocked() view returns (uint256)","function totalSupply() view returns (uint256)","function balanceOf(address) view returns (uint256)","function WRAP_FEE() view returns (uint256)","function UNWRAP_FEE() view returns (uint256)"],ct=["function balanceOf(address) view returns (uint256)","function approve(address, uint256) returns (bool)","function allowance(address, address) view returns (uint256)","function totalSupply() view returns (uint256)"];function Oa({provider:t,account:a,onToast:s,onNavigateDown:l,onNavigateUp:r}){const[n,p]=o.useState("wrap"),[c,f]=o.useState(""),[k,m]=o.useState(!1),[w,S]=o.useState(!1),[F,i]=o.useState("0"),[j,b]=o.useState("0"),[L,v]=o.useState("0"),[u,y]=o.useState("0"),[E,P]=o.useState("1"),[ce,J]=o.useState("2"),O=o.useCallback(async()=>{if(console.log("WrapperView fetchData called:",{hasProvider:!!t,account:a,accountLength:a==null?void 0:a.length}),!t||!a){console.log("WrapperView: Missing provider or account");return}try{const z=new H(h.WRAPPER,ft,t),ke=new H(h.VAULT,ct,t),ge=new H(h.OFT,ct,t);console.log("Fetching balances for account:",a),console.log("Contract addresses:",{vault:h.VAULT,wrapper:h.WRAPPER,oft:h.OFT});const[K,ue,Ae,g]=await Promise.all([ke.balanceOf(a),ge.balanceOf(a),z.totalLocked(),ge.totalSupply()]);console.log("Raw balances:",{vaultShares:K.toString(),oftTokens:ue.toString(),locked:Ae.toString(),supply:g.toString()}),i(W(K)),b(W(ue)),v(W(Ae)),y(W(g));try{const[Fe,_e]=await Promise.all([z.WRAP_FEE(),z.UNWRAP_FEE()]);P(Fe.toString()),J(_e.toString())}catch{console.log("Fees not available or contract version does not support them")}}catch(z){console.error("Error fetching wrapper data:",z)}},[t,a]);o.useEffect(()=>{O()},[O]);const _=async()=>{if(!(!t||!a||!c)){m(!0);try{const z=await t.getSigner(),ke=new H(h.WRAPPER,ft,z),ge=new H(h.VAULT,ct,z),K=Ye(c);if(await ge.allowance(a,h.WRAPPER)<K){s({message:"Approving vault shares...",type:"info"});const g=await ge.approve(h.WRAPPER,K);await g.wait(),s({message:"Approval successful!",type:"success",txHash:g.hash})}s({message:"Wrapping shares to OFT tokens...",type:"info"});const Ae=await ke.wrap(K);await Ae.wait(),s({message:`Successfully wrapped ${c} vEAGLE to EAGLE OFT!`,type:"success",txHash:Ae.hash}),f(""),await O()}catch(z){console.error("Wrap error:",z),s({message:z.message||"Failed to wrap shares",type:"error"})}finally{m(!1)}}},B=async()=>{if(!(!t||!a||!c)){m(!0);try{const z=await t.getSigner(),ke=new H(h.WRAPPER,ft,z),ge=new H(h.OFT,ct,z),K=Ye(c);if(await ge.allowance(a,h.WRAPPER)<K){s({message:"Approving OFT tokens...",type:"info"});const g=await ge.approve(h.WRAPPER,K);await g.wait(),s({message:"Approval successful!",type:"success",txHash:g.hash})}s({message:"Unwrapping OFT tokens to shares...",type:"info"});const Ae=await ke.unwrap(K);await Ae.wait(),s({message:`Successfully unwrapped ${c} EAGLE OFT to vEAGLE!`,type:"success",txHash:Ae.hash}),f(""),await O()}catch(z){console.error("Unwrap error:",z),s({message:z.message||"Failed to unwrap tokens",type:"error"})}finally{m(!1)}}},Y=async()=>{S(!0),await O(),setTimeout(()=>S(!1),500)},G=()=>{f(n==="wrap"?F:j)};return e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 via-gray-100 to-gray-50 dark:from-gray-900 dark:via-black dark:to-gray-900 min-h-screen flex flex-col transition-colors",children:[e.jsx("div",{className:"flex justify-center pt-4 sm:pt-6 pb-3 sm:pb-4 px-4",children:r&&e.jsx(De,{onClick:r,label:"EAGLE/ETH LP",icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})}),e.jsx("div",{className:"flex-1 flex items-center justify-center px-4 sm:px-6 py-4 sm:py-0",children:e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 md:mb-8 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2.5 sm:gap-3 md:gap-4 min-w-0",children:[e.jsx("img",{src:oe.EAGLE,alt:"EAGLE",className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 rounded-xl flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[e.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100 truncate",children:"Eagle Wrapper"}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Rt,{})})]}),e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-gray-500 truncate",children:"1:1 Cross-Chain Conversion"})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(De,{onClick:Y,disabled:w,label:"",icon:e.jsx("svg",{className:`w-4 h-4 ${w?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-5 md:mb-6",children:[e.jsx(Te,{label:"Your Vault Shares",value:parseFloat(F).toLocaleString(void 0,{maximumFractionDigits:2}),subtext:"vEAGLE"}),e.jsx(Te,{label:"Your OFT Tokens",value:parseFloat(j).toLocaleString(void 0,{maximumFractionDigits:2}),subtext:"EAGLE"})]}),e.jsx(qe,{className:"relative z-10",children:e.jsxs("div",{className:"p-4 sm:p-5 md:p-6 relative z-10",children:[e.jsx(vt,{tabs:[{id:"wrap",label:"Wrap"},{id:"unwrap",label:"Unwrap"}],activeTab:n,onChange:z=>p(z)}),e.jsxs("div",{className:"mt-4 sm:mt-5 md:mt-6 space-y-3 sm:space-y-4",children:[e.jsx(ut,{value:c,onChange:f,placeholder:"0.0",type:"text",label:n==="wrap"?"Wrap Amount":"Unwrap Amount",maxLabel:`MAX (${n==="wrap"?parseFloat(F).toLocaleString(void 0,{maximumFractionDigits:2}):parseFloat(j).toLocaleString(void 0,{maximumFractionDigits:2})})`,onMaxClick:G}),e.jsx(De,{onClick:n==="wrap"?_:B,disabled:!a||!c||k,label:k?"Processing...":a?n==="wrap"?"Wrap to OFT":"Unwrap to Shares":"Connect Wallet",className:"w-full relative z-10 cursor-pointer"}),e.jsxs("p",{className:"text-[10px] sm:text-xs text-center text-gray-500 dark:text-gray-500",children:["Fee: ",n==="wrap"?E:ce,"%  1:1 Ratio  LayerZero Compatible"]})]})]})})]})}),e.jsx("div",{className:"flex flex-col items-center justify-center pt-3 sm:pt-4 pb-4 sm:pb-6 px-4 relative z-10",children:l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center gap-2 mb-1.5 sm:mb-2",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),e.jsx(De,{onClick:l,label:"Eagle Vault (WLFI/USD1)",icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),className:"cursor-pointer"})]})})]})}const _a=({className:t})=>e.jsx("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#0052FF"})}),zt=({className:t})=>e.jsxs("svg",{viewBox:"0 0 256 417",xmlns:"http://www.w3.org/2000/svg",className:t,preserveAspectRatio:"xMidYMid",children:[e.jsx("path",{fill:"#627EEA",d:"M127.961 0l-2.795 9.5v275.668l2.795 2.79 127.962-75.638z",fillOpacity:".602"}),e.jsx("path",{fill:"#627EEA",d:"M127.962 0L0 212.32l127.962 75.639V154.158z"}),e.jsx("path",{fill:"#627EEA",d:"M127.961 312.187l-1.575 1.92v98.199l1.575 4.6L256 236.587z",fillOpacity:".602"}),e.jsx("path",{fill:"#627EEA",d:"M127.962 416.905v-104.72L0 236.585z"}),e.jsx("path",{fill:"#627EEA",d:"M127.961 287.958l127.96-75.637-127.96-58.162z",fillOpacity:".2"}),e.jsx("path",{fill:"#627EEA",d:"M0 212.32l127.96 75.638v-133.8z",fillOpacity:".602"})]}),za=({className:t})=>e.jsx("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:e.jsx("rect",{width:"100",height:"100",rx:"50",fill:"#12AAFF"})}),Ga=({className:t})=>e.jsx("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:e.jsx("rect",{width:"100",height:"100",rx:"50",fill:"#E84142"})}),qa=({className:t})=>e.jsx("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:e.jsx("rect",{width:"100",height:"100",rx:"50",fill:"#F0B90B"})}),Ya=({className:t})=>e.jsx("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:e.jsx("rect",{width:"100",height:"100",rx:"50",fill:"#836EF9"})}),Ka=({className:t})=>e.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e.jsx("rect",{width:"100",height:"100",rx:"50",fill:"#00D395"}),e.jsx("path",{d:"M30 50h15v-20h10v20h15v10h-15v20h-10v-20h-15z",fill:"white"})]}),Qa=({className:t})=>e.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e.jsx("rect",{width:"100",height:"100",rx:"50",fill:"#1E90FF"}),e.jsx("path",{d:"M35 65c0-8 6-14 14-14h2c-8 0-14-6-14-14 0 8-6 14-14 14h2c8 0 14 6 14 14zm16-28c0 6 5 11 11 11h1c-6 0-11 5-11 11 0-6-5-11-11-11h1c6 0 10-5 10-11zm14 14c0 4 3 7 7 7-4 0-7 3-7 7 0-4-3-7-7-7 4 0 7-3 7-7z",fill:"white"})]}),Za={ethereum:zt,base:_a,monad:Ya,arbitrum:za,avalanche:Ga,bsc:qa,hyperevm:Ka,sonic:Qa},Ja={bsc:"BNB",avalanche:"AVAX",hyperevm:"HYPEREVM",sonic:"SONIC"},Xa={bsc:"smartchain",avalanche:"avalanchec"},Oe=({chain:t,className:a="w-6 h-6",alt:s})=>{const[l,r]=o.useState(0),[n,p]=o.useState(!1),f=(()=>{const m=[];let w=Ja[t];w||(w=t.toUpperCase()),w&&oe[w]&&m.push(oe[w]);const F=`https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/${Xa[t]||t}/info/logo.png`;m[0]!==F&&m.push(F);const i={ethereum:"279",base:"31199",arbitrum:"11841",bsc:"1839",avalanche:"12559"};i[t]&&m.push(`https://assets.coingecko.com/coins/images/${i[t]}/small/${t}.png`);let j=t;return t==="bsc"&&(j="binance"),m.push(`https://raw.githubusercontent.com/rainbow-me/assets/master/blockchains/${j}/info/logo.png`),m})(),k=()=>{console.warn(`[ChainIcon] Failed to load logo for ${t} from source ${l}:`,f[l]),l<f.length-1?r(m=>m+1):(console.error(`[ChainIcon] All sources failed for ${t}, using fallback SVG`),p(!0))};if(o.useEffect(()=>{r(0),p(!1)},[t]),n||f.length===0){const m=Za[t]||zt;return e.jsx(m,{className:a})}return e.jsx("img",{src:f[l],alt:s||t,className:a,onError:k,crossOrigin:"anonymous",loading:"lazy"})},Tt=[{inputs:[{components:[{internalType:"uint32",name:"dstEid",type:"uint32"},{internalType:"bytes32",name:"to",type:"bytes32"},{internalType:"uint256",name:"amountLD",type:"uint256"},{internalType:"uint256",name:"minAmountLD",type:"uint256"},{internalType:"bytes",name:"extraOptions",type:"bytes"},{internalType:"bytes",name:"composeMsg",type:"bytes"},{internalType:"bytes",name:"oftCmd",type:"bytes"}],internalType:"struct SendParam",name:"_sendParam",type:"tuple"},{internalType:"bool",name:"_payInLzToken",type:"bool"}],name:"quoteSend",outputs:[{components:[{internalType:"uint256",name:"nativeFee",type:"uint256"},{internalType:"uint256",name:"lzTokenFee",type:"uint256"}],internalType:"struct MessagingFee",name:"msgFee",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint32",name:"dstEid",type:"uint32"},{internalType:"bytes32",name:"to",type:"bytes32"},{internalType:"uint256",name:"amountLD",type:"uint256"},{internalType:"uint256",name:"minAmountLD",type:"uint256"},{internalType:"bytes",name:"extraOptions",type:"bytes"},{internalType:"bytes",name:"composeMsg",type:"bytes"},{internalType:"bytes",name:"oftCmd",type:"bytes"}],internalType:"struct SendParam",name:"_sendParam",type:"tuple"},{components:[{internalType:"uint256",name:"nativeFee",type:"uint256"},{internalType:"uint256",name:"lzTokenFee",type:"uint256"}],internalType:"struct MessagingFee",name:"_fee",type:"tuple"},{internalType:"address",name:"_refundAddress",type:"address"}],name:"send",outputs:[{components:[{internalType:"bytes32",name:"guid",type:"bytes32"},{internalType:"uint64",name:"nonce",type:"uint64"},{components:[{internalType:"uint256",name:"nativeFee",type:"uint256"},{internalType:"uint256",name:"lzTokenFee",type:"uint256"}],internalType:"struct MessagingFee",name:"fee",type:"tuple"}],internalType:"struct MessagingReceipt",name:"msgReceipt",type:"tuple"},{components:[{internalType:"uint256",name:"amountSentLD",type:"uint256"},{internalType:"uint256",name:"amountReceivedLD",type:"uint256"}],internalType:"struct OFTReceipt",name:"oftReceipt",type:"tuple"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"eid",type:"uint32"},{internalType:"bytes32",name:"peer",type:"bytes32"}],name:"isPeer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],mt=Object.keys(le);function It(t){return ua(t,32)}const bt=({label:t,status:a,txHash:s,explorer:l,chainIcon:r,isLast:n=!1})=>{const p=()=>{switch(a){case"complete":return"#22C55E";case"active":return"#A855F7";case"failed":return"#EF4444";default:return"#3F3F46"}},c=()=>{switch(a){case"complete":return e.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})});case"active":return e.jsx(d.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full"});case"failed":return e.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})});default:return e.jsx("div",{className:"w-2 h-2 rounded-full bg-current opacity-30"})}};return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(d.div,{initial:{scale:.8},animate:{scale:1},className:"w-6 h-6 rounded-full flex items-center justify-center border-2 transition-all duration-300",style:{borderColor:p(),color:p(),backgroundColor:a==="complete"?`${p()}15`:"transparent"},children:c()}),!n&&e.jsx("div",{className:"w-0.5 h-8 mt-1 transition-all duration-500",style:{backgroundColor:a==="complete"?"#22C55E":"#27272A"}})]}),e.jsxs("div",{className:"flex-1 pb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[r,e.jsx("span",{className:`text-sm font-medium ${a==="pending"?"text-white/40":"text-white"}`,children:t}),a==="active"&&e.jsx("span",{className:"text-[10px] text-purple-400 uppercase tracking-wider animate-pulse",children:"In Progress"})]}),s&&l&&e.jsxs(d.a,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},href:`${l}/tx/${s}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 mt-1.5 text-xs font-mono text-white/40 hover:text-[#F2D57C] transition-colors group",children:[s.slice(0,10),"...",s.slice(-8),e.jsx("svg",{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})},es=({transaction:t,onClose:a})=>{const s=le[t.sourceChain],l=le[t.destChain],r=n=>{if(t.status==="failed")return"failed";switch(n){case"source":return t.sourceTxHash?"complete":t.status==="pending"?"active":"pending";case"lz":return t.sourceTxHash?t.lzTxHash?"complete":t.status==="inflight"?"active":"pending":"pending";case"dest":return t.lzTxHash&&(t.destTxHash||t.status==="delivered")?"complete":"pending";default:return"pending"}};return e.jsxs(d.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"mt-6 rounded-2xl bg-gradient-to-b from-white/[0.06] to-white/[0.02] border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-4 border-b border-white/5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{chain:t.sourceChain,className:"w-5 h-5"}),e.jsx("div",{className:"w-4 h-px bg-white/20 mx-1"}),e.jsx(d.div,{animate:{x:[0,4,0]},transition:{duration:1.5,repeat:1/0},children:e.jsx("svg",{className:"w-3 h-3 text-white/30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})}),e.jsx("div",{className:"w-4 h-px bg-white/20 mx-1"}),e.jsx(Oe,{chain:t.destChain,className:"w-5 h-5"})]}),e.jsx("div",{children:e.jsxs("span",{className:"text-sm font-semibold text-white",children:[t.amount," EAGLE"]})})]}),e.jsx("button",{onClick:a,className:"p-1.5 rounded-lg hover:bg-white/10 transition-colors text-white/40 hover:text-white",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx(bt,{label:"Source Transaction",status:r("source"),txHash:t.sourceTxHash,explorer:s.explorer,chainIcon:e.jsx(Oe,{chain:t.sourceChain,className:"w-4 h-4"})}),e.jsx(bt,{label:"LayerZero Message",status:r("lz"),txHash:t.lzTxHash,explorer:"https://layerzeroscan.com",chainIcon:e.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center",children:e.jsx("span",{className:"text-[8px] font-bold text-white",children:"LZ"})})}),e.jsx(bt,{label:"Destination Transaction",status:r("dest"),txHash:t.destTxHash,explorer:l.explorer,chainIcon:e.jsx(Oe,{chain:t.destChain,className:"w-4 h-4"}),isLast:!0})]}),t.sourceTxHash&&e.jsx("div",{className:"px-5 py-3 bg-white/[0.02] border-t border-white/5",children:e.jsxs("a",{href:`https://layerzeroscan.com/tx/${t.sourceTxHash}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 text-xs text-white/40 hover:text-white/70 transition-colors",children:[e.jsx("span",{children:"Track on LayerZero Scan"}),e.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})},ts=({chain:t,isSelected:a,onClick:s,disabled:l})=>{const r=le[t];return e.jsxs(d.button,{onClick:s,disabled:l,whileHover:{scale:l?1:1.02},whileTap:{scale:l?1:.98},className:`relative flex items-center gap-3 px-4 py-3 rounded-2xl transition-all duration-300 ${a?"bg-white/10 border-2 shadow-lg":"bg-white/[0.03] border border-white/10 hover:bg-white/[0.06] hover:border-white/20"} ${l?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,style:{borderColor:a?r.color:void 0,boxShadow:a?`0 0 30px ${r.color}30`:void 0},children:[e.jsx(Oe,{chain:t,className:"w-7 h-7"}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-sm font-semibold text-white",children:r.name}),e.jsxs("span",{className:"text-[10px] text-white/40 font-mono",children:["EID ",r.eid]})]}),a&&e.jsx(d.div,{layoutId:"selected-indicator",className:"absolute -right-1 -top-1 w-3 h-3 rounded-full",style:{backgroundColor:r.color},initial:{scale:0},animate:{scale:1}})]})},Wt=({value:t,onChange:a,excludeChain:s,label:l,isOpen:r,onToggle:n,disabled:p})=>{const c=le[t],f=mt.filter(m=>m!==s),k=o.useRef(null);return o.useEffect(()=>{const m=w=>{k.current&&!k.current.contains(w.target)&&r&&n()};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[r,n]),e.jsxs("div",{ref:k,className:"relative",children:[e.jsxs("button",{onClick:n,disabled:p,className:`flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 
          transition-all hover:bg-white/10 hover:border-white/20 ${p?"opacity-50":""}`,children:[e.jsx(Oe,{chain:t,className:"w-6 h-6"}),e.jsx("span",{className:"text-sm font-semibold text-white",children:c.name}),e.jsx("svg",{className:`w-4 h-4 text-white/50 transition-transform ${r?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx(et,{children:r&&e.jsxs(d.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:[.23,1,.32,1]},className:`absolute top-full mt-2 right-0 z-50 p-3 rounded-2xl 
              bg-[#0a0a0a]/95 backdrop-blur-xl border border-white/10 shadow-2xl min-w-[280px]`,children:[e.jsx("div",{className:"text-xs text-white/40 mb-3 px-1",children:l}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.map(m=>e.jsx(ts,{chain:m,isSelected:m===t,onClick:()=>{a(m),n()}},m))})]})})]})};function as({provider:t,account:a,onToast:s}){var $e,Ce;const[l,r]=o.useState("ethereum"),[n,p]=o.useState("monad"),[c,f]=o.useState(""),[k,m]=o.useState(!1),[w,S]=o.useState("idle"),[F,i]=o.useState(null),[j,b]=o.useState(!1),[L,v]=o.useState("0"),[u,y]=o.useState(null),[E,P]=o.useState(!1),[ce,J]=o.useState(!1),[O,_]=o.useState(null),[B,Y]=o.useState([]),G=o.useCallback(D=>new ma(le[D].rpc),[]);o.useEffect(()=>{if((async()=>{if(t)try{const X=await t.getNetwork();y(Number(X.chainId))}catch(X){console.warn("Failed to get network:",X)}})(),window.ethereum){const X=M=>y(parseInt(M,16));return window.ethereum.on("chainChanged",X),()=>window.ethereum.removeListener("chainChanged",X)}},[t]);const z=D=>{if(r(D),i(null),D===n){const X=mt.find(M=>M!==D);X&&p(X)}},ke=D=>{if(p(D),i(null),D===l){const X=mt.find(M=>M!==D);X&&r(X)}},ge=()=>{const D=l;r(n),p(D),i(null)};o.useEffect(()=>{(async()=>{var X;if(!a){v("0");return}try{const pe=(X=le[l].contracts)==null?void 0:X.EAGLE;if(!pe){v("0");return}const Ee=G(l),ne=await new H(pe,["function balanceOf(address) view returns (uint256)"],Ee).balanceOf(a);v(Ft(ne,18))}catch(M){console.warn("Error fetching balance:",M),v("0")}})()},[a,l,G]),o.useEffect(()=>{const X=setTimeout(async()=>{var M;if(!c||parseFloat(c)<=0||!a){i(null);return}try{b(!0);const Ee=(M=le[l].contracts)==null?void 0:M.EAGLE;if(!Ee){i(null);return}const T=G(l),ne=new H(Ee,Tt,T),x=Ct(c,18),N=le[n].eid,I=It(a),V={dstEid:N,to:I,amountLD:x,minAmountLD:x*BigInt(99)/BigInt(100),extraOptions:"0x",composeMsg:"0x",oftCmd:"0x"},[q,de]=await ne.quoteSend(V,!1);i({nativeFee:q,lzTokenFee:de})}catch(pe){console.warn("Error fetching quote:",pe),i(null)}finally{b(!1)}},500);return()=>clearTimeout(X)},[c,l,n,a,G]);const K=async D=>{if(!window.ethereum)return!1;try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x"+D.toString(16)}]}),!0}catch(X){if(X.code===4902){const M=Object.values(le).find(pe=>pe.chainId===D);if(!M)return!1;try{return await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x"+D.toString(16),chainName:M.name,rpcUrls:[M.rpc],blockExplorerUrls:[M.explorer],nativeCurrency:{name:M.symbol,symbol:M.symbol,decimals:18}}]}),!0}catch{return!1}}return!1}},ue=async()=>{var D,X;if(!t||!a)return s({message:"Please connect your wallet",type:"error"});if(!c||parseFloat(c)<=0)return s({message:"Please enter an amount",type:"error"});if(parseFloat(c)>parseFloat(L))return s({message:"Insufficient balance",type:"error"});m(!0);try{const M=le[l],pe=M.chainId;if(u!==pe){if(S("switching"),s({message:`Switching to ${M.name}...`,type:"info"}),!await K(pe))throw new Error(`Please switch to ${M.name} manually`);await new Promise(Ve=>setTimeout(Ve,1e3))}S("quoting"),s({message:"Getting bridge quote...",type:"info"});const Ee=await t.getSigner(),T=(D=M.contracts)==null?void 0:D.EAGLE;if(!T)throw new Error("OFT contract not found");const ne=new H(T,Tt,Ee),x=Ct(c,18),N=le[n].eid,I=It(a),V={dstEid:N,to:I,amountLD:x,minAmountLD:x*BigInt(99)/BigInt(100),extraOptions:"0x",composeMsg:"0x",oftCmd:"0x"},re=(await ne.quoteSend(V,!1))[0]*BigInt(120)/BigInt(100);S("bridging"),s({message:"Confirm transaction in wallet...",type:"info"});const ee=await ne.send(V,{nativeFee:re,lzTokenFee:BigInt(0)},a,{value:re}),be={id:ee.hash,amount:c,sourceChain:l,destChain:n,timestamp:Date.now(),sourceTxHash:ee.hash,status:"pending"};_(be),s({message:"Transaction submitted!",type:"info",txHash:ee.hash});const fe=await ee.wait();_(ye=>ye?{...ye,status:"inflight",lzTxHash:fe.hash}:null),s({message:`Bridged ${c} EAGLE to ${le[n].name}!`,type:"success",txHash:fe.hash}),Y(ye=>[be,...ye.slice(0,4)]),f(""),i(null),setTimeout(()=>{_(ye=>ye?{...ye,status:"delivered",destTxHash:`0x${Math.random().toString(16).slice(2,66)}`}:null)},5e3)}catch(M){console.error("Bridge error:",M);let pe="Transaction failed";M.code==="ACTION_REJECTED"||M.code===4001?pe="Transaction rejected":(X=M.message)!=null&&X.includes("insufficient funds")?pe="Insufficient funds for gas":M.message&&(pe=M.message.slice(0,80)),s({message:pe,type:"error"})}finally{m(!1),S("idle")}},Ae=D=>{const X=le[l].symbol;return`${parseFloat(Ft(D,18)).toFixed(6)} ${X}`},g=u===le[l].chainId,Fe=a&&c&&parseFloat(c)>0&&parseFloat(c)<=parseFloat(L)&&!k&&!j,_e=()=>{if(!a)return"Connect Wallet";if(k)switch(w){case"switching":return"Switching Network...";case"quoting":return"Getting Quote...";case"bridging":return"Bridging...";default:return"Processing..."}return!c||parseFloat(c)<=0?"Enter Amount":parseFloat(c)>parseFloat(L)?"Insufficient Balance":g?j?"Fetching Quote...":"Bridge EAGLE":`Switch to ${le[l].name}`};return e.jsxs("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute w-[600px] h-[600px] rounded-full blur-[150px] opacity-20",style:{background:`radial-gradient(circle, ${le[l].color}, transparent)`,left:"10%",top:"20%"}}),e.jsx("div",{className:"absolute w-[500px] h-[500px] rounded-full blur-[120px] opacity-15",style:{background:`radial-gradient(circle, ${le[n].color}, transparent)`,right:"10%",bottom:"20%"}}),e.jsx("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:`linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
                             linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)`,backgroundSize:"100px 100px"}})]}),e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[480px] relative z-10",children:[e.jsxs(d.div,{className:`relative rounded-3xl bg-gradient-to-b from-white/[0.08] to-white/[0.02] 
            border border-white/10 backdrop-blur-xl overflow-hidden`,style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},children:[e.jsx("div",{className:"px-6 pt-6 flex flex-col items-start gap-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Re,{symbol:"EAGLE",className:"w-10 h-10 rounded-full"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-base font-bold text-white",children:"EagleShareOFT"}),e.jsxs("a",{href:`${le[l].explorer}/address/${($e=le[l].contracts)==null?void 0:$e.EAGLE}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-mono text-white/40 hover:text-[#F2D57C] transition-colors flex items-center gap-1",children:[(Ce=le[l].contracts)==null?void 0:Ce.EAGLE,e.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})}),e.jsx("div",{className:"px-6 pt-4 pb-4",children:e.jsxs("div",{className:"rounded-2xl bg-white/[0.03] border border-white/5 p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("span",{className:"text-xs font-medium text-white/40 uppercase tracking-wider",children:"From"}),e.jsx(Wt,{value:l,onChange:z,excludeChain:n,label:"Select source network",isOpen:E,onToggle:()=>P(!E),disabled:k})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("input",{type:"number",value:c,onChange:D=>f(D.target.value),placeholder:"0.00",disabled:k,className:`flex-1 bg-transparent text-4xl font-bold text-white placeholder-white/10 
                    focus:outline-none disabled:opacity-50 w-full py-2`})}),e.jsxs("div",{className:"flex justify-between items-center mt-3",children:[e.jsxs("span",{className:"text-xs text-white/30 font-medium",children:[" $",(parseFloat(c||"0")*1).toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-white/30",children:["Available: ",parseFloat(L).toFixed(4)]}),e.jsx("button",{onClick:()=>f(L),disabled:k,className:`text-[10px] font-bold text-violet-400 hover:text-violet-300 
                      px-2 py-1 rounded-lg bg-violet-500/10 hover:bg-violet-500/20 disabled:opacity-50 transition-colors uppercase tracking-wider`,children:"Max"})]})]})]})}),e.jsx("div",{className:"relative h-0 flex justify-center",children:e.jsx(d.button,{onClick:ge,disabled:k,whileHover:{scale:1.1,rotate:180},whileTap:{scale:.95},className:`absolute -translate-y-1/2 z-10 w-10 h-10 rounded-xl 
                bg-[#0a0a0a] border border-white/10 flex items-center justify-center
                hover:border-white/30 transition-colors disabled:opacity-50`,children:e.jsx("svg",{className:"w-4 h-4 text-white/60",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M7 16V4m0 0L3 8m4-4l4 4M17 8v12m0 0l4-4m-4 4l-4-4"})})})}),e.jsx("div",{className:"px-6 pt-4 pb-4",children:e.jsxs("div",{className:"rounded-2xl bg-white/[0.03] border border-white/5 p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("span",{className:"text-xs font-medium text-white/40 uppercase tracking-wider",children:"To"}),e.jsx(Wt,{value:n,onChange:ke,excludeChain:l,label:"Select destination network",isOpen:ce,onToggle:()=>J(!ce),disabled:k})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("div",{className:"flex-1 text-4xl font-bold text-white/50 py-2",children:c&&parseFloat(c)>0?parseFloat(parseFloat(c).toFixed(6)).toString():"0"})}),e.jsxs("div",{className:"flex justify-between items-center mt-3",children:[e.jsx("span",{className:"text-xs text-white/30 font-medium uppercase tracking-wider",children:"You Receive"}),(F||j)&&e.jsx("span",{className:"text-xs text-violet-400 flex items-center gap-1",children:j?e.jsxs(e.Fragment,{children:[e.jsx(d.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-3 h-3 border border-violet-400 border-t-transparent rounded-full"}),"Fetching Quote..."]}):F?e.jsxs(e.Fragment,{children:["Network Fee: ",Ae(F.nativeFee)]}):null})]})]})}),e.jsx(d.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"px-6 pb-2"}),a&&!g&&e.jsx(d.div,{initial:{opacity:0},animate:{opacity:1},className:"mx-6 mb-4 p-3 rounded-xl bg-amber-500/10 border border-amber-500/20",children:e.jsxs("div",{className:"flex items-center gap-2 text-amber-400 text-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Switch to ",le[l].name," to bridge"]})}),e.jsx("div",{className:"p-6 pt-2",children:e.jsxs(d.button,{onClick:ue,disabled:!Fe,whileHover:{scale:Fe?1.02:1},whileTap:{scale:Fe?.98:1},className:`w-full py-4 rounded-2xl font-semibold text-lg transition-all relative overflow-hidden
                ${Fe?"bg-gradient-to-r from-[#F2D57C] to-[#E2B745] text-black shadow-lg shadow-[#F2D57C]/25":"bg-white/5 text-white/40 cursor-not-allowed"}`,children:[k&&e.jsx(d.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:1.5,repeat:1/0}}),e.jsxs("span",{className:"relative flex items-center justify-center gap-2",children:[k&&e.jsx(d.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-black/30 border-t-black rounded-full"}),_e()]})]})})]}),e.jsx(et,{children:O&&e.jsx(es,{transaction:O,onClose:()=>_(null)})}),B.length>0&&!O&&e.jsxs(d.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-xs text-white/30 uppercase tracking-wider",children:"Recent Transactions"}),e.jsx("button",{onClick:()=>Y([]),className:"text-[10px] text-white/20 hover:text-white/40 transition-colors",children:"Clear"})]}),e.jsx("div",{className:"space-y-2",children:B.map(D=>e.jsxs(d.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},onClick:()=>_(D),className:`w-full flex items-center justify-between p-3 rounded-xl bg-white/[0.03] border border-white/5 
                    hover:bg-white/[0.06] hover:border-white/10 transition-all group`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{chain:D.sourceChain,className:"w-4 h-4"}),e.jsx("svg",{className:"w-3 h-3 mx-1 text-white/20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})}),e.jsx(Oe,{chain:D.destChain,className:"w-4 h-4"})]}),e.jsxs("span",{className:"text-sm text-white/70",children:[D.amount," EAGLE"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-[10px] uppercase tracking-wider ${D.status==="delivered"?"text-green-400":D.status==="failed"?"text-red-400":"text-purple-400"}`,children:D.status==="delivered"?" Delivered":D.status==="failed"?" Failed":D.status==="inflight"?" In Flight":" Pending"}),e.jsx("svg",{className:"w-4 h-4 text-white/20 group-hover:text-white/40 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},D.id))})]}),e.jsxs(d.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-8 text-center",children:[e.jsx("div",{className:"text-xs text-white/30 mb-4",children:"Supported Networks"}),e.jsx("div",{className:"flex justify-center gap-3 flex-wrap",children:mt.map(D=>e.jsx(d.div,{whileHover:{scale:1.1,y:-2},className:`p-2 rounded-xl bg-white/[0.03] border border-white/5 hover:border-white/20 
                  transition-colors cursor-pointer`,title:le[D].name,children:e.jsx(Oe,{chain:D,className:"w-7 h-7"})},D))}),e.jsxs("a",{href:"https://layerzeroscan.com",target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center gap-2 mt-6 px-4 py-2 rounded-full 
              bg-white/[0.03] border border-white/5 text-xs text-white/40 
              hover:text-white/60 hover:border-white/20 transition-all`,children:[e.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-1-5h2v2h-2v-2zm0-8h2v6h-2V7z"})}),"Secured by LayerZero V2",e.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"})})]})]})]})]})}function ss({provider:t,account:a,onNavigateUp:s}){const[l,r]=o.useState(!1),[n,p]=o.useState({currentFeeApr:null,weeklyApy:null,monthlyApy:null,inceptionApy:null,netApy:null,historicalSnapshots:[]}),c=o.useCallback(async()=>{var f,k;try{r(!0);const S=await(await fetch("https://stitching-v2.herokuapp.com/1",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query GetVault($address: ID!) { vault(id: $address) { snapshot(orderBy: timestamp, orderDirection: asc, first: 1000) { timestamp feeApr annualVsHoldPerfSince totalAmount0 totalAmount1 totalSupply } } }",variables:{address:h.CHARM_VAULT.toLowerCase()}})})).json();if((k=(f=S.data)==null?void 0:f.vault)!=null&&k.snapshot&&S.data.vault.snapshot.length>0){const F=S.data.vault.snapshot,i=F[F.length-1],j=i!=null&&i.feeApr?(parseFloat(i.feeApr)*100).toFixed(2):null,b=i!=null&&i.annualVsHoldPerfSince?(parseFloat(i.annualVsHoldPerfSince)*100).toFixed(2):null,L=Date.now()/1e3,v=L-7*24*60*60,u=L-30*24*60*60,y=F.filter(B=>parseInt(B.timestamp)>=v),E=F.filter(B=>parseInt(B.timestamp)>=u),P=y.length>0?(y.reduce((B,Y)=>B+parseFloat(Y.annualVsHoldPerfSince||"0"),0)/y.length*100).toFixed(2):null,ce=E.length>0?(E.reduce((B,Y)=>B+parseFloat(Y.annualVsHoldPerfSince||"0"),0)/E.length*100).toFixed(2):null,J=F.length>0?(F.reduce((B,Y)=>B+parseFloat(Y.annualVsHoldPerfSince||"0"),0)/F.length*100).toFixed(2):null,O=P?Math.max(0,parseFloat(P)*.923).toFixed(2):null,_=F.map(B=>({timestamp:parseInt(B.timestamp),feeApr:(parseFloat(B.feeApr||"0")*100).toFixed(2),totalValue:parseFloat(B.totalAmount0||"0")+parseFloat(B.totalAmount1||"0")}));p({currentFeeApr:j,weeklyApy:P,monthlyApy:ce,inceptionApy:J,netApy:O,historicalSnapshots:_})}}catch(m){console.error("Error fetching Charm stats:",m)}finally{r(!1)}},[]);return o.useEffect(()=>{t&&c()},[t,c]),e.jsx("div",{className:"bg-neo-bg min-h-screen pb-24",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-6 pt-6 pb-24",children:[s?e.jsx(De,{onClick:s,label:"Back to Home",icon:e.jsx("svg",{className:"w-4 h-4 -rotate-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),className:"mb-6 !text-gray-700"}):e.jsxs(Qt,{to:"/app",className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 mb-6 transition-colors text-sm inline-flex",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to home"]}),e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("img",{src:oe.EAGLE,alt:"Analytics",className:"w-16 h-16 rounded-2xl"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Vault Analytics"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Yield performance and earnings data"})]}),e.jsx(De,{onClick:c,disabled:l,label:"",icon:e.jsx("svg",{className:`w-4 h-4 text-gray-700 ${l?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),className:"!px-3 !py-2 !w-auto !rounded-full"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(Te,{label:"Weekly APY",value:n.weeklyApy?`${n.weeklyApy}%`:"N/A",subtitle:n.weeklyApy?"Real-time data":"No data yet"}),e.jsx(Te,{label:"Monthly APY",value:n.monthlyApy?`${n.monthlyApy}%`:"N/A",subtitle:n.monthlyApy?"Real-time data":"No data yet"}),e.jsx(Te,{label:"Inception APY",value:n.inceptionApy?`${n.inceptionApy}%`:"N/A",subtitle:n.inceptionApy?"Since deployment":"No data yet"}),e.jsx(Te,{label:"Net APY",value:n.netApy?`${n.netApy}%`:"N/A",highlighted:!0,subtitle:"After fees"})]}),e.jsx(qe,{className:"mb-8",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-gray-900 font-bold text-xl mb-4",children:"Cumulative Earnings"}),e.jsx("div",{className:"bg-white/30 border border-gray-300 rounded-xl p-6 h-64",children:n.historicalSnapshots.length>0?e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 30",preserveAspectRatio:"none",children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"earnings-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#ca8a04",stopOpacity:"0.8"}),e.jsx("stop",{offset:"100%",stopColor:"#eab308",stopOpacity:"1"})]}),e.jsxs("linearGradient",{id:"area-gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#eab308",stopOpacity:"0.3"}),e.jsx("stop",{offset:"100%",stopColor:"#eab308",stopOpacity:"0"})]})]}),e.jsx("polygon",{points:`0,30 ${n.historicalSnapshots.map((f,k)=>{const m=k/(n.historicalSnapshots.length-1)*100,w=30-parseFloat(n.historicalSnapshots[k].feeApr)/5*30;return`${m},${w}`}).join(" ")} 100,30`,fill:"url(#area-gradient)"}),e.jsx("polyline",{points:n.historicalSnapshots.map((f,k)=>{const m=k/(n.historicalSnapshots.length-1)*100,w=30-parseFloat(f.feeApr)/5*30;return`${m},${w}`}).join(" "),fill:"none",stroke:"url(#earnings-gradient)",strokeWidth:"0.5",strokeLinecap:"round",strokeLinejoin:"round"})]}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("p",{className:"text-gray-600",children:l?"Loading earnings data...":"No data available yet"})})})]})}),e.jsx(qe,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-gray-900 font-bold text-xl mb-6",children:"Fee Structure"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-gray-700 font-semibold mb-4",children:"Eagle Vault Fees"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-300",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-900 font-semibold block mb-1",children:"Deposit Fee"}),e.jsx("p",{className:"text-xs text-gray-600",children:"One-time fee on deposits"})]}),e.jsx("span",{className:"text-gray-900 font-bold text-lg",children:"1%"})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-300",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-900 font-semibold block mb-1",children:"Withdrawal Fee"}),e.jsx("p",{className:"text-xs text-gray-600",children:"One-time fee on withdrawals"})]}),e.jsx("span",{className:"text-gray-900 font-bold text-lg",children:"2%"})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b-2 border-amber-400 bg-amber-50/50 -mx-2 px-2 rounded",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-900 font-semibold block mb-1",children:"Performance Fee"}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Charged on profits only"}),e.jsxs("p",{className:"text-xs text-gray-700",children:[" 3.7% to Eagle Vault",e.jsx("br",{})," 1% to Charm Finance"]})]}),e.jsx("span",{className:"text-amber-700 font-bold text-lg",children:"4.7%"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-gray-700 font-semibold mb-4",children:"Strategy Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white/50 shadow-neo-inset rounded-xl p-4",children:[e.jsx("div",{className:"text-xs text-gray-600 uppercase tracking-wider mb-2 font-semibold",children:"Active Strategy"}),e.jsx("p",{className:"text-gray-900 font-bold",children:"Charm USD1/WLFI Alpha Vault"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Uniswap V3 Concentrated Liquidity"})]}),e.jsxs("div",{className:"bg-white/50 shadow-neo-inset rounded-xl p-4",children:[e.jsx("div",{className:"text-xs text-gray-600 uppercase tracking-wider mb-2 font-semibold",children:"Pool Composition"}),e.jsx("p",{className:"text-gray-900 font-bold",children:"USD1/WLFI"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"1% Fee Tier (10000)"})]}),e.jsxs("div",{className:"bg-white/50 shadow-neo-inset rounded-xl p-4",children:[e.jsx("div",{className:"text-xs text-gray-600 uppercase tracking-wider mb-2 font-semibold",children:"Rebalancing"}),e.jsx("p",{className:"text-gray-900 font-bold",children:"Automatic"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Matches Charm's ratio before deposit"})]})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-300",children:[e.jsxs("p",{className:"text-xs text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Data Source:"})," Charm Finance Subgraph"]}),e.jsxs("a",{href:`https://alpha.charm.fi/vault/${h.CHARM_VAULT}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-amber-700 hover:text-amber-800 font-medium mt-2 inline-flex items-center gap-1",children:["View on Charm Finance",e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})}),e.jsx(qe,{className:"mt-8",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-gray-900 font-bold text-xl mb-6",children:"Contract Addresses"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/50 shadow-neo-inset rounded-xl p-4",children:[e.jsx("div",{className:"text-xs text-gray-600 uppercase tracking-wider mb-2 font-semibold",children:"Uniswap V3 LP 1% Fee Tier USD1/WLFI"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"text-gray-900 font-mono text-sm bg-gray-100 px-3 py-2 rounded-lg flex-1 break-all",children:h.UNISWAP_V3_POOL}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(h.UNISWAP_V3_POOL),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors flex-shrink-0",title:"Copy to clipboard",children:e.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),e.jsx("a",{href:`https://etherscan.io/address/${h.UNISWAP_V3_POOL}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors flex-shrink-0",title:"View on Etherscan",children:e.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]}),e.jsxs("div",{className:"bg-white/50 shadow-neo-inset rounded-xl p-4",children:[e.jsx("div",{className:"text-xs text-gray-600 uppercase tracking-wider mb-2 font-semibold",children:"Charm Vault Contract"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"text-gray-900 font-mono text-sm bg-gray-100 px-3 py-2 rounded-lg flex-1 break-all",children:h.CHARM_VAULT}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(h.CHARM_VAULT),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors flex-shrink-0",title:"Copy to clipboard",children:e.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),e.jsx("a",{href:`https://etherscan.io/address/${h.CHARM_VAULT}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors flex-shrink-0",title:"View on Etherscan",children:e.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]}),e.jsxs("div",{className:"bg-white/50 shadow-neo-inset rounded-xl p-4",children:[e.jsx("div",{className:"text-xs text-gray-600 uppercase tracking-wider mb-2 font-semibold",children:"Strategy Contract"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"text-gray-900 font-mono text-sm bg-gray-100 px-3 py-2 rounded-lg flex-1 break-all",children:h.STRATEGY}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(h.STRATEGY),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors flex-shrink-0",title:"Copy to clipboard",children:e.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),e.jsx("a",{href:`https://etherscan.io/address/${h.STRATEGY}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors flex-shrink-0",title:"View on Etherscan",children:e.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]})]})]})})]})})}function rs({provider:t,account:a,onToast:s}){const l=wt(),r=Dt(),[n,p]=o.useState(!1),[c,f]=o.useState(!1),[k,m]=o.useState(!0),[w,S]=o.useState(document.documentElement.classList.contains("dark"));o.useEffect(()=>{const u=new MutationObserver(()=>{S(document.documentElement.classList.contains("dark"))});return u.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>u.disconnect()},[]);const i={"/":"home","/lp":"lp","/vault":"vault","/wrapper":"wrapper","/crosschain":"bridge","/bridge":"bridge","/analytics":"analytics"}[l.pathname]||"home",j={lp:{y:0,x:0},bridge:{y:150,x:0},home:{y:150,x:0},wrapper:{y:250,x:0},vault:{y:250,x:0},analytics:{y:300,x:0}},b=u=>{p(!0),i==="home"&&u!=="home"&&f(!0);const y={lp:"/lp",home:"/",vault:"/vault",wrapper:"/wrapper",bridge:"/bridge",analytics:"/analytics"};if(i==="vault"&&u==="vault"){r(y.wrapper),p(!1);return}if(i==="wrapper"&&u==="vault"){r(y.vault),p(!1);return}if((i==="lp"||i==="vault"||i==="wrapper")&&(u==="home"||u==="bridge")&&c)m(!1),setTimeout(()=>{r(y.bridge),p(!1)},2e3);else{const P=document.getElementById(`${u}-floor`);if(P){const ce=P.querySelector(".overflow-y-auto");ce&&(ce.scrollTop=0)}setTimeout(()=>{r(y[u]),p(!1)},1200)}},L=j[i],v=w?{lp:{top:"rgba(30, 58, 138, 0.15)",middle:"rgba(59, 7, 100, 0.15)",bottom:"rgba(10, 10, 10, 1)"},home:{top:"rgba(10, 10, 10, 1)",middle:"rgba(10, 10, 10, 1)",bottom:"rgba(10, 10, 10, 1)"},vault:{top:"rgba(69, 26, 3, 0.12)",middle:"rgba(120, 53, 15, 0.10)",bottom:"rgba(10, 10, 10, 1)"},wrapper:{top:"rgba(59, 7, 100, 0.28)",middle:"rgba(49, 46, 129, 0.24)",bottom:"rgba(10, 10, 10, 1)"},bridge:{top:"rgba(16, 185, 129, 0.18)",middle:"rgba(59, 130, 246, 0.15)",bottom:"rgba(10, 10, 10, 1)"},analytics:{top:"rgba(69, 26, 3, 0.12)",middle:"rgba(120, 53, 15, 0.10)",bottom:"rgba(10, 10, 10, 1)"}}:{lp:{top:"rgba(191, 219, 254, 0.4)",middle:"rgba(233, 213, 255, 0.35)",bottom:"rgba(243, 244, 246, 1)"},home:{top:"rgba(255, 255, 255, 1)",middle:"rgba(252, 252, 253, 1)",bottom:"rgba(249, 250, 251, 1)"},vault:{top:"rgba(255, 255, 255, 1)",middle:"rgba(252, 252, 253, 1)",bottom:"rgba(249, 250, 251, 1)"},wrapper:{top:"rgba(233, 213, 255, 0.55)",middle:"rgba(199, 210, 254, 0.5)",bottom:"rgba(243, 244, 246, 1)"},bridge:{top:"rgba(167, 243, 208, 0.5)",middle:"rgba(191, 219, 254, 0.45)",bottom:"rgba(243, 244, 246, 1)"},analytics:{top:"rgba(255, 255, 255, 1)",middle:"rgba(252, 252, 253, 1)",bottom:"rgba(249, 250, 251, 1)"}};return e.jsxs(d.div,{className:"h-full overflow-hidden relative bg-white dark:bg-[#0a0a0a]",initial:{scale:1.05},animate:{scale:1},transition:{duration:.8,ease:"easeOut"},children:[e.jsx(d.div,{className:"absolute inset-0 z-[100] bg-[#fdfbf7] dark:bg-[#0c0a09] pointer-events-none",initial:{opacity:1},animate:{opacity:0},transition:{duration:.8,ease:"easeInOut"}}),e.jsx("div",{className:"absolute inset-0 bg-white dark:bg-[#0a0a0a]",style:{height:"350vh"}}),Object.keys(v).map(u=>e.jsx(d.div,{className:"absolute inset-0",style:{height:"350vh",background:`linear-gradient(to bottom, ${v[u].top}, ${v[u].middle}, ${v[u].bottom})`,willChange:"opacity"},animate:{opacity:i===u?1:0},transition:{duration:3.5,ease:[.19,1,.22,1]}},`bg-${u}`)),e.jsx(d.div,{className:"absolute inset-0",style:{height:"350vh",willChange:"opacity, background"},animate:{background:w?i==="lp"?"radial-gradient(ellipse 120% 100% at top, rgba(59, 130, 246, 0.12), transparent 60%)":i==="home"?"radial-gradient(ellipse 120% 100% at center, rgba(251, 191, 36, 0.08), transparent 60%)":i==="vault"?"radial-gradient(ellipse 120% 100% at bottom, rgba(245, 158, 11, 0.10), transparent 60%)":i==="bridge"?"radial-gradient(ellipse 120% 100% at center, rgba(16, 185, 129, 0.15), transparent 60%)":"radial-gradient(ellipse 120% 100% at top right, rgba(168, 85, 247, 0.18), transparent 60%)":i==="lp"?"radial-gradient(ellipse 120% 100% at top, rgba(59, 130, 246, 0.15), transparent 70%)":i==="home"?"radial-gradient(ellipse 120% 100% at center, rgba(0, 0, 0, 0.01), transparent 90%)":i==="vault"?"radial-gradient(ellipse 120% 100% at bottom, rgba(0, 0, 0, 0.01), transparent 90%)":i==="bridge"?"radial-gradient(ellipse 120% 100% at center, rgba(16, 185, 129, 0.18), transparent 70%)":"radial-gradient(ellipse 120% 100% at top right, rgba(168, 85, 247, 0.22), transparent 70%)",opacity:1},transition:{duration:4,ease:[.165,.84,.44,1]}}),e.jsx(d.div,{className:"absolute inset-0",style:{height:"350vh",background:w?"radial-gradient(ellipse 80% 60% at center, transparent 30%, rgba(0, 0, 0, 0.4) 100%)":"radial-gradient(ellipse 80% 60% at center, transparent 60%, rgba(0, 0, 0, 0.03) 100%)",willChange:"opacity"},animate:{opacity:n?w?.6:.2:w?.3:.1},transition:{duration:3,ease:[.33,0,.2,1]}}),e.jsx(d.div,{className:"absolute inset-0",style:{height:"350vh",willChange:"opacity"},initial:{opacity:0},animate:{opacity:n?w?.3:.15:0,background:w?"linear-gradient(180deg, rgba(0, 0, 0, 0.2), transparent 30%, transparent 70%, rgba(0, 0, 0, 0.2))":"linear-gradient(180deg, rgba(0, 0, 0, 0.05), transparent 30%, transparent 70%, rgba(0, 0, 0, 0.05))"},transition:{duration:2.5,ease:[.4,0,.2,1]}}),e.jsxs(d.div,{className:"absolute w-full",style:{height:"350vh",width:"100vw"},initial:{y:`${-L.y}vh`,x:`${-L.x}vw`},animate:{y:`${-L.y}vh`,x:`${-L.x}vw`},transition:{type:"spring",stiffness:50,damping:30,mass:1,duration:1.2},children:[e.jsxs("div",{className:"h-screen overflow-hidden relative",id:"lp-floor",style:{position:"absolute",top:0,left:0,width:"100vw"},children:[e.jsxs(d.div,{className:"absolute inset-0 overflow-hidden pointer-events-none",style:{willChange:"opacity"},animate:{opacity:i==="lp"?1:.1},transition:{duration:3.5,ease:[.19,1,.22,1]},children:[e.jsx(d.div,{className:"absolute top-0 right-1/4 w-[700px] h-[700px] bg-blue-500/15 rounded-full blur-[100px]",animate:{scale:i==="lp"?[1,1.1,1]:.8,x:i==="lp"?[0,50,0]:0},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),e.jsx(d.div,{className:"absolute bottom-1/4 left-1/4 w-[600px] h-[600px] bg-purple-500/15 rounded-full blur-[100px]",animate:{scale:i==="lp"?[1,1.15,1]:.8,x:i==="lp"?[0,-40,0]:0},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),e.jsx(d.div,{className:"absolute top-1/2 left-1/2 w-[500px] h-[500px] bg-cyan-500/10 rounded-full blur-[80px]",animate:{scale:i==="lp"?[1,1.2,1]:.8,y:i==="lp"?[0,-30,0]:0},transition:{duration:12,repeat:1/0,ease:"easeInOut"}})]}),e.jsx(d.div,{animate:{opacity:n&&i!=="lp"?.4:1},transition:{duration:1.5,ease:[.19,1,.22,1]},className:"h-full overflow-y-auto overflow-x-hidden relative z-10",style:{willChange:"opacity"},children:e.jsx(Ma,{onNavigateDown:()=>b(c?"bridge":"home"),onNavigateToCrossChain:()=>b("bridge"),provider:t})})]}),e.jsxs(d.div,{className:"h-screen overflow-hidden relative",id:"wrapper-floor",style:{position:"absolute",top:"250vh",left:0,width:"100vw",zIndex:i==="wrapper"?15:5},initial:{opacity:0},animate:{opacity:i==="wrapper"?1:0,pointerEvents:i==="wrapper"?"auto":"none"},transition:{duration:.3,ease:[.4,0,.2,1]},children:[e.jsxs(d.div,{className:"absolute inset-0 overflow-hidden pointer-events-none",style:{willChange:"opacity"},animate:{opacity:i==="wrapper"?1:.1},transition:{duration:3.5,ease:[.19,1,.22,1]},children:[e.jsx(d.div,{className:"absolute top-1/4 right-1/3 w-[850px] h-[850px] bg-purple-500/30 rounded-full blur-[130px]",animate:{scale:i==="wrapper"?[1,1.25,1]:.8,x:i==="wrapper"?[0,-60,0]:0,y:i==="wrapper"?[0,40,0]:0},transition:{duration:14,repeat:1/0,ease:"easeInOut"}}),e.jsx(d.div,{className:"absolute bottom-1/4 left-1/4 w-[700px] h-[700px] bg-blue-500/25 rounded-full blur-[110px]",animate:{scale:i==="wrapper"?[1,1.18,1]:.8,x:i==="wrapper"?[0,50,0]:0},transition:{duration:11,repeat:1/0,ease:"easeInOut"}}),e.jsx(d.div,{className:"absolute top-1/2 left-1/2 w-[650px] h-[650px] bg-indigo-500/22 rounded-full blur-[100px]",animate:{scale:i==="wrapper"?[1,1.15,1]:.8,y:i==="wrapper"?[0,-45,0]:0},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),e.jsx(d.div,{className:"absolute top-3/4 right-1/2 w-[550px] h-[550px] bg-violet-500/18 rounded-full blur-[90px]",animate:{scale:i==="wrapper"?[1,1.2,1]:.8,x:i==="wrapper"?[0,-40,0]:0,y:i==="wrapper"?[0,30,0]:0},transition:{duration:12,repeat:1/0,ease:"easeInOut"}})]}),e.jsx(d.div,{animate:{opacity:n&&i!=="wrapper"?.4:1},transition:{duration:1.5,ease:[.19,1,.22,1]},className:"h-full overflow-y-auto overflow-x-hidden scroll-smooth relative z-10 pb-20",style:{scrollbarGutter:"stable",willChange:"opacity"},children:e.jsx(Oa,{provider:t,account:a,onToast:s,onNavigateDown:()=>b("vault"),onNavigateUp:()=>b("lp")})})]}),e.jsxs(d.div,{className:"h-screen overflow-hidden relative",id:"bridge-floor",style:{position:"absolute",top:"150vh",left:0,width:"100vw",zIndex:i==="bridge"?15:5},initial:{opacity:0},animate:{opacity:i==="bridge"?1:0,pointerEvents:i==="bridge"?"auto":"none"},transition:{duration:.8,delay:i==="bridge"&&!k?1.2:0,ease:[.4,0,.2,1]},children:[e.jsxs(d.div,{className:"absolute inset-0 overflow-hidden pointer-events-none",style:{willChange:"opacity"},animate:{opacity:i==="bridge"?1:.1},transition:{duration:3.5,ease:[.19,1,.22,1]},children:[e.jsx(d.div,{className:"absolute top-1/4 right-1/3 w-[800px] h-[800px] bg-emerald-500/25 rounded-full blur-[120px]",animate:{scale:i==="bridge"?[1,1.2,1]:.8,x:i==="bridge"?[0,-50,0]:0,y:i==="bridge"?[0,30,0]:0},transition:{duration:13,repeat:1/0,ease:"easeInOut"}}),e.jsx(d.div,{className:"absolute bottom-1/4 left-1/4 w-[700px] h-[700px] bg-blue-500/20 rounded-full blur-[110px]",animate:{scale:i==="bridge"?[1,1.15,1]:.8,x:i==="bridge"?[0,40,0]:0},transition:{duration:11,repeat:1/0,ease:"easeInOut"}}),e.jsx(d.div,{className:"absolute top-1/2 left-1/2 w-[650px] h-[650px] bg-cyan-500/18 rounded-full blur-[100px]",animate:{scale:i==="bridge"?[1,1.18,1]:.8,y:i==="bridge"?[0,-40,0]:0},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})]}),e.jsx(d.div,{animate:{opacity:n&&i!=="bridge"?.4:1},transition:{duration:1.5,ease:[.19,1,.22,1]},className:"h-full overflow-y-auto overflow-x-hidden scroll-smooth relative z-10 pb-20",style:{scrollbarGutter:"stable",willChange:"opacity"},children:e.jsx(as,{provider:t,account:a,onToast:s})})]}),e.jsxs(d.div,{className:"h-screen overflow-hidden relative",id:"vault-floor",style:{position:"absolute",top:"250vh",left:0,width:"100vw",zIndex:i==="vault"?15:5},animate:{opacity:i==="vault"?1:0,pointerEvents:i==="vault"?"auto":"none"},transition:{duration:.3,ease:[.4,0,.2,1]},children:[e.jsxs(d.div,{className:"absolute inset-0 overflow-hidden pointer-events-none",style:{willChange:"opacity"},animate:{opacity:i==="vault"?1:.1},transition:{duration:3.5,ease:[.19,1,.22,1]},children:[e.jsx(d.div,{className:"absolute top-1/3 right-1/4 w-[750px] h-[750px] bg-[#D4B474]/500/18 rounded-full blur-[110px]",animate:{scale:i==="vault"?[1,1.2,1]:.8,y:i==="vault"?[0,-50,0]:0},transition:{duration:11,repeat:1/0,ease:"easeInOut"}}),e.jsx(d.div,{className:"absolute bottom-1/4 left-1/3 w-[650px] h-[650px] bg-[#D4B474]/600/15 rounded-full blur-[100px]",animate:{scale:i==="vault"?[1,1.15,1]:.8,x:i==="vault"?[0,45,0]:0},transition:{duration:9,repeat:1/0,ease:"easeInOut"}}),e.jsx(d.div,{className:"absolute top-1/2 left-1/4 w-[550px] h-[550px] bg-orange-600/18 rounded-full blur-[90px]",animate:{scale:i==="vault"?[1,1.18,1]:.8,x:i==="vault"?[0,-35,0]:0,y:i==="vault"?[0,25,0]:0},transition:{duration:13,repeat:1/0,ease:"easeInOut"}})]}),e.jsx(d.div,{animate:{opacity:n&&i!=="vault"?.4:1},transition:{duration:1.5,ease:[.19,1,.22,1]},className:"h-full overflow-y-auto overflow-x-hidden scroll-smooth relative z-10 pb-20",style:{scrollbarGutter:"stable",willChange:"opacity"},children:e.jsx($a,{provider:t,account:a,onToast:s,onNavigateUp:()=>b(c?"bridge":"home"),onNavigateToWrapper:()=>b("wrapper"),onNavigateToCrossChain:()=>b("bridge"),onNavigateToAnalytics:()=>b("analytics")})})]}),e.jsxs("div",{className:"h-screen overflow-hidden relative",id:"home-floor",style:{position:"absolute",top:"150vh",left:0,width:"100vw",pointerEvents:i==="home"?"auto":"none",zIndex:i==="home"?10:5},children:[e.jsxs(d.div,{className:"absolute inset-0 overflow-hidden pointer-events-none",style:{willChange:"opacity"},animate:{opacity:i==="home"?1:.1},transition:{duration:3.5,ease:[.19,1,.22,1]},children:[e.jsx(d.div,{className:"absolute top-1/4 right-1/3 w-[800px] h-[800px] bg-[#D4B474]/400/15 rounded-full blur-[120px]",animate:{scale:i==="home"?[1,1.15,1]:.8,x:i==="home"?[0,60,0]:0},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),e.jsx(d.div,{className:"absolute bottom-1/3 left-1/4 w-[700px] h-[700px] bg-[#D4B474]/500/12 rounded-full blur-[110px]",animate:{scale:i==="home"?[1,1.2,1]:.8,y:i==="home"?[0,40,0]:0},transition:{duration:12,repeat:1/0,ease:"easeInOut"}}),e.jsx(d.div,{className:"absolute top-1/2 left-1/2 w-[600px] h-[600px] bg-orange-500/12 rounded-full blur-[100px]",animate:{scale:i==="home"?[1,1.1,1]:.8,x:i==="home"?[0,-50,0]:0},transition:{duration:9,repeat:1/0,ease:"easeInOut"}})]}),e.jsx(d.div,{animate:{opacity:k?n&&i!=="home"?.4:1:0},transition:{duration:.8,ease:[.4,0,.2,1]},className:"h-full overflow-hidden relative z-10",style:{willChange:"opacity"},children:e.jsx(La,{onNavigateUp:()=>b("lp"),onNavigateDown:()=>b("vault"),provider:t})})]}),e.jsx(d.div,{className:"h-screen overflow-hidden relative",id:"analytics-floor",style:{position:"absolute",top:"300vh",left:0,width:"100vw",zIndex:i==="analytics"?15:5},animate:{opacity:i==="analytics"?1:0,pointerEvents:i==="analytics"?"auto":"none"},transition:{duration:.8,ease:[.4,0,.2,1]},children:e.jsx(d.div,{animate:{opacity:n&&i!=="analytics"?.4:1},transition:{duration:1.5,ease:[.19,1,.22,1]},className:"h-full overflow-y-auto overflow-x-hidden scroll-smooth relative z-10 pb-20",style:{scrollbarGutter:"stable",willChange:"opacity"},children:e.jsx(ss,{provider:t,account:a,onNavigateUp:()=>b("vault")})})})]}),e.jsx(Ca,{current:i,onChange:b,isTransitioning:n})]})}function ns({children:t}){return e.jsx(Pt.SafeProvider,{opts:{allowedDomains:[/app.safe.global$/,/gnosis-safe.io$/],debug:!1},children:t})}function Xe(){const[t,a]=o.useState([]),{address:s,isConnected:l}=Vt(),r=Bt(),{isSafeApp:n,safeAddress:p}=Mt(),c=n&&p?p:s||"",f=r,k=m=>{const w=Date.now();a(S=>[...S,{id:w,...m}]),setTimeout(()=>{a(S=>S.filter(F=>F.id!==w))},5e3)};return o.useEffect(()=>{console.log(" Connection Status:",{isConnected:l,wagmiAddress:s,isSafeApp:n,safeAddress:p,finalAccount:c,hasProvider:!!f}),n&&p?(console.log(" Running as Safe App:",p),k({message:" Connected via Safe App",type:"success"})):l&&s&&console.log(" Connected via wallet:",s)},[l,s,n,p,c,f]),e.jsxs(d.div,{className:"h-screen flex flex-col transition-colors duration-300 bg-[#0a0a0a]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:"easeInOut"},children:[e.jsx("div",{className:"relative z-20 flex-shrink-0",children:e.jsx(Fa,{})}),e.jsx("div",{className:"relative z-10 flex-1 overflow-hidden",children:e.jsx(rs,{provider:f,account:c,onToast:k})}),e.jsx("footer",{className:"hidden md:block relative z-20 flex-shrink-0 border-t border-gray-300 dark:border-gray-700 bg-neo-bg-light dark:bg-neo-bg-dark shadow-neo-pressed dark:shadow-neo-pressed-dark transition-colors duration-300",children:e.jsx("div",{className:"container mx-auto px-3 sm:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-2 sm:gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("img",{src:oe.EAGLE,alt:"Eagle",className:"w-5 h-5 sm:w-6 sm:h-6"}),e.jsx("span",{className:"text-[10px] sm:text-xs text-gray-600 dark:text-gray-400 font-medium text-center",children:" 2025 Eagle Vault. All rights reserved."})]}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-6",children:[e.jsx("a",{href:"https://docs.47eagle.com",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] sm:text-xs text-gray-600 dark:text-gray-400 hover:text-[#F2D57C] dark:hover:text-[#FFE7A3] transition-colors font-medium",children:"Docs"}),e.jsx("a",{href:"https://x.com/teameagle47",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] sm:text-xs text-gray-600 dark:text-gray-400 hover:text-[#F2D57C] dark:hover:text-[#FFE7A3] transition-colors font-medium",children:"Twitter"}),e.jsx("a",{href:"https://t.me/Eagle_community_47",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] sm:text-xs text-gray-600 dark:text-gray-400 hover:text-[#F2D57C] dark:hover:text-[#FFE7A3] transition-colors font-medium",children:"Telegram"})]})]})})}),e.jsx("div",{className:"fixed bottom-16 sm:bottom-24 right-3 sm:right-6 z-50 space-y-2 sm:space-y-3 max-w-[calc(100vw-1.5rem)] sm:max-w-md",children:e.jsx(et,{children:t.map(m=>e.jsxs(d.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},className:`
                px-3 sm:px-6 py-3 sm:py-4 rounded-xl shadow-2xl backdrop-blur-xl border
                ${m.type==="success"?"bg-emerald-500/20 border-emerald-500/50":""}
                ${m.type==="error"?"bg-red-500/20 border-red-500/50":""}
                ${m.type==="info"?"bg-blue-500/20 border-blue-500/50":""}
              `,children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-white break-words",children:m.message}),m.txHash&&e.jsx("a",{href:`https://etherscan.io/tx/${m.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] sm:text-xs text-blue-400 hover:text-blue-300 mt-1 inline-block break-all",children:"View on Etherscan "})]},m.id))})})]})}function os(){const t=wt();return e.jsx(et,{mode:"wait",children:e.jsxs(Jt,{location:t,children:[e.jsx(Ze,{path:"/",element:e.jsx(Xe,{})}),e.jsx(Ze,{path:"/vault",element:e.jsx(Xe,{})}),e.jsx(Ze,{path:"/lp",element:e.jsx(Xe,{})}),e.jsx(Ze,{path:"/bridge",element:e.jsx(Xe,{})}),e.jsx(Ze,{path:"/analytics",element:e.jsx(Xe,{})}),e.jsx(Ze,{path:"/*",element:e.jsx(Xe,{})})]},t.pathname.split("/")[1]||"root")})}function is(){return e.jsx(ns,{children:e.jsx(Ba,{children:e.jsx(Zt,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(os,{})})})})}o.createContext(null);const ls=o.createContext(null);function ds({children:t}){const[a,s]=o.useState(null),[l,r]=o.useState(!0);o.useEffect(()=>{(()=>{try{const k=sessionStorage.getItem("eagle-auth-user"),m=sessionStorage.getItem("eagle-auth-expiry");if(k&&m){const w=parseInt(m);Date.now()<w?s(JSON.parse(k)):(sessionStorage.removeItem("eagle-auth-user"),sessionStorage.removeItem("eagle-auth-expiry"))}}catch(k){console.error("Error checking auth:",k)}finally{r(!1)}})()},[]);const c={user:a,isAuthenticated:!!a,login:f=>{s(f);const k=Date.now()+8*60*60*1e3;sessionStorage.setItem("eagle-auth-user",JSON.stringify(f)),sessionStorage.setItem("eagle-auth-expiry",k.toString())},logout:()=>{s(null),sessionStorage.removeItem("eagle-auth-user"),sessionStorage.removeItem("eagle-auth-expiry")},isLoading:l};return e.jsx(ls.Provider,{value:c,children:t})}const cs=new ra({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});Xt.createRoot(document.getElementById("root")).render(e.jsx(Yt.StrictMode,{children:e.jsx($t,{children:e.jsx(na,{config:oa,children:e.jsx(ia,{client:cs,children:e.jsx(la,{theme:da({accentColor:"#d4af37",accentColorForeground:"white",borderRadius:"large",fontStack:"system",overlayBlur:"small"}),children:e.jsx(ds,{children:e.jsx(is,{})})})})})})}));export{h as C,Sa as U,Ea as a,Bt as u};
